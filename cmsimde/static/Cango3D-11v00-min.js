var Cango3D,Group3D,Path3D,Panel3D,Shape3D,Text3D,Sphere3D,Cgo3Dsegs,svgToCgo3D,calcNormal,calcIncAngle,objectByRevolution3D,objectByExtrusion3D,surfaceByExtrusion3D,RGBAColor,shapeDefs;!function(){"use strict";const t=["GROUP","PATH","PANEL","SHAPE","TEXT"];function e(t){if(null==t)return t;if(t instanceof DOMMatrix)return new DOMMatrix(t);const s=Array.isArray(t)?[]:new t.constructor;for(let r in t)t[r]&&"object"==typeof t[r]?s[r]=e(t[r]):s[r]=t[r];return s}class s{constructor(t=0,e=0,s=0){this.x=t,this.y=e,this.z=s,this.tx=this.x,this.ty=this.y,this.tz=this.z,this.fx=0,this.fy=0}hardTransform(t){const e=new DOMPoint(this.x,this.y,this.z).matrixTransform(t);this.tx=e.x,this.ty=e.y,this.tz=e.z,this.x=this.tx,this.y=this.ty,this.z=this.tz}softTransform(t){const e=new DOMPoint(this.x,this.y,this.z).matrixTransform(t);this.tx=e.x,this.ty=e.y,this.tz=e.z}}class r{constructor(t,e=[],s){this.drawFn=t,this.cPts=e,this.ep=s,this.parms=[],this.parmsPx=[]}}SVGPathElement.prototype.getPathData&&SVGPathElement.prototype.setPathData||function(){var t={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},e=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},s=-1!==window.navigator.userAgent.indexOf("MSIE ");e.prototype={parseSegment:function(){var e=this._string[this._currentIndex],s=t[e]?t[e]:null;if(null===s){if(null===this._prevCommand)return null;if(null===(s=("+"===e||"-"===e||"."===e||e>="0"&&"9">=e)&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=s;var r=null,i=s.toUpperCase();return"H"===i||"V"===i?r=[this._parseNumber()]:"M"===i||"L"===i||"T"===i?r=[this._parseNumber(),this._parseNumber()]:"S"===i||"Q"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===i?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===i&&(this._skipOptionalSpaces(),r=[]),null===r||r.indexOf(null)>=0?null:{type:s,values:r}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return t[e]?t[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return"M"===t||"m"===t},_isCurrentSpace:function(){var t=this._string[this._currentIndex];return" ">=t&&(" "===t||"\n"===t||"\t"===t||"\r"===t||"\f"===t)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var t=0,e=0,s=1,r=0,i=1,a=1,n=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&"."!==this._string[this._currentIndex])return null;for(var h=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==h)for(var o=this._currentIndex-1,l=1;o>=h;)e+=l*(this._string[o]-"0"),o-=1,l*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)s*=10,r+=(this._string.charAt(this._currentIndex)-"0")/s,this._currentIndex+=1}if(this._currentIndex!==n&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,a=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)t*=10,t+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var d=e+r;return d*=i,t&&(d*=Math.pow(10,a*t)),n===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),d)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var t=null,e=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===e)t=0;else{if("1"!==e)return null;t=1}return this._skipOptionalSpacesOrDelimiter(),t}};var r=function(t){if(!t||0===t.length)return[];var s=new e(t),r=[];if(s.initialCommandIsMoveTo())for(;s.hasMoreData();){var i=s.parseSegment();if(null===i)break;r.push(i)}return r},i=SVGPathElement.prototype.setAttribute,a=SVGPathElement.prototype.removeAttribute,n=window.Symbol?Symbol():"__cachedPathData",h=window.Symbol?Symbol():"__cachedNormalizedPathData",o=function(t,e,s,r,i,a,n,h,l,d){var c,u,f,p,g=function(t,e,s){return{x:t*Math.cos(s)-e*Math.sin(s),y:t*Math.sin(s)+e*Math.cos(s)}},w=function(t){return Math.PI*t/180}(n),y=[];if(d)c=d[0],u=d[1],f=d[2],p=d[3];else{var m=g(t,e,-w);t=m.x,e=m.y;var M=g(s,r,-w),x=(t-(s=M.x))/2,b=(e-(r=M.y))/2,v=x*x/(i*i)+b*b/(a*a);v>1&&(i*=v=Math.sqrt(v),a*=v);var C=i*i,L=a*a,T=C*L-C*b*b-L*x*x,P=C*b*b+L*x*x,A=(h===l?-1:1)*Math.sqrt(Math.abs(T/P));f=A*i*b/a+(t+s)/2,p=A*-a*x/i+(e+r)/2,c=Math.asin(parseFloat(((e-p)/a).toFixed(9))),u=Math.asin(parseFloat(((r-p)/a).toFixed(9))),f>t&&(c=Math.PI-c),f>s&&(u=Math.PI-u),0>c&&(c=2*Math.PI+c),0>u&&(u=2*Math.PI+u),l&&c>u&&(c-=2*Math.PI),!l&&u>c&&(u-=2*Math.PI)}var k=u-c;if(Math.abs(k)>120*Math.PI/180){var D=u,_=s,z=r;u=l&&u>c?c+120*Math.PI/180*1:c+120*Math.PI/180*-1,s=f+i*Math.cos(u),r=p+a*Math.sin(u),y=o(s,r,_,z,i,a,n,0,l,[u,D,f,p])}k=u-c;var S=Math.cos(c),I=Math.sin(c),O=Math.cos(u),N=Math.sin(u),R=Math.tan(k/4),E=4/3*i*R,B=4/3*a*R,G=[t,e],W=[t+E*I,e-B*S],V=[s+E*N,r-B*O],j=[s,r];if(W[0]=2*G[0]-W[0],W[1]=2*G[1]-W[1],d)return[W,V,j].concat(y);y=[W,V,j].concat(y);for(var H=[],F=0;F<y.length;F+=3){i=g(y[F][0],y[F][1],w),a=g(y[F+1][0],y[F+1][1],w);var U=g(y[F+2][0],y[F+2][1],w);H.push([i.x,i.y,a.x,a.y,U.x,U.y])}return H},l=function(t){return t.map(function(t){return{type:t.type,values:Array.prototype.slice.call(t.values)}})},d=function(t){var e=[],s=null,r=null,i=null,a=null,n=null,h=null,l=null;return t.forEach(function(t){if("M"===t.type){var d=t.values[0],c=t.values[1];e.push({type:"M",values:[d,c]}),h=d,l=c,a=d,n=c}else if("C"===t.type){var u=t.values[0],f=t.values[1],p=t.values[2],g=t.values[3];d=t.values[4],c=t.values[5];e.push({type:"C",values:[u,f,p,g,d,c]}),r=p,i=g,a=d,n=c}else if("L"===t.type){d=t.values[0],c=t.values[1];e.push({type:"L",values:[d,c]}),a=d,n=c}else if("H"===t.type){d=t.values[0];e.push({type:"L",values:[d,n]}),a=d}else if("V"===t.type){c=t.values[0];e.push({type:"L",values:[a,c]}),n=c}else if("S"===t.type){p=t.values[0],g=t.values[1],d=t.values[2],c=t.values[3];"C"===s||"S"===s?(w=a+(a-r),y=n+(n-i)):(w=a,y=n),e.push({type:"C",values:[w,y,p,g,d,c]}),r=p,i=g,a=d,n=c}else if("T"===t.type){d=t.values[0],c=t.values[1];"Q"===s||"T"===s?(u=a+(a-r),f=n+(n-i)):(u=a,f=n);var w=a+2*(u-a)/3,y=n+2*(f-n)/3,m=d+2*(u-d)/3,M=c+2*(f-c)/3;e.push({type:"C",values:[w,y,m,M,d,c]}),r=u,i=f,a=d,n=c}else if("Q"===t.type){u=t.values[0],f=t.values[1],d=t.values[2],c=t.values[3],w=a+2*(u-a)/3,y=n+2*(f-n)/3,m=d+2*(u-d)/3,M=c+2*(f-c)/3;e.push({type:"C",values:[w,y,m,M,d,c]}),r=u,i=f,a=d,n=c}else if("A"===t.type){var x=Math.abs(t.values[0]),b=Math.abs(t.values[1]),v=t.values[2],C=t.values[3],L=t.values[4];d=t.values[5],c=t.values[6];if(0===x||0===b)e.push({type:"C",values:[a,n,d,c,d,c]}),a=d,n=c;else if(a!==d||n!==c){o(a,n,d,c,x,b,v,C,L).forEach(function(t){e.push({type:"C",values:t})}),a=d,n=c}}else"Z"===t.type&&(e.push(t),a=h,n=l);s=t.type}),e};SVGPathElement.prototype.setAttribute=function(t,e){"d"===t&&(this[n]=null,this[h]=null),i.call(this,t,e)},SVGPathElement.prototype.removeAttribute=function(t,e){"d"===t&&(this[n]=null,this[h]=null),a.call(this,t)},SVGPathElement.prototype.getPathData=function(t){if(t&&t.normalize){if(this[h])return l(this[h]);this[n]?s=l(this[n]):(s=r(this.getAttribute("d")||""),this[n]=l(s));var e=d(function(t){var e=[],s=null,r=null,i=null,a=null;return t.forEach(function(t){var n=t.type;if("M"===n){var h=t.values[0],o=t.values[1];e.push({type:"M",values:[h,o]}),i=h,a=o,s=h,r=o}else if("m"===n)h=s+t.values[0],o=r+t.values[1],e.push({type:"M",values:[h,o]}),i=h,a=o,s=h,r=o;else if("L"===n)h=t.values[0],o=t.values[1],e.push({type:"L",values:[h,o]}),s=h,r=o;else if("l"===n)h=s+t.values[0],o=r+t.values[1],e.push({type:"L",values:[h,o]}),s=h,r=o;else if("C"===n){var l=t.values[0],d=t.values[1],c=t.values[2],u=t.values[3];h=t.values[4],o=t.values[5],e.push({type:"C",values:[l,d,c,u,h,o]}),s=h,r=o}else"c"===n?(l=s+t.values[0],d=r+t.values[1],c=s+t.values[2],u=r+t.values[3],h=s+t.values[4],o=r+t.values[5],e.push({type:"C",values:[l,d,c,u,h,o]}),s=h,r=o):"Q"===n?(l=t.values[0],d=t.values[1],h=t.values[2],o=t.values[3],e.push({type:"Q",values:[l,d,h,o]}),s=h,r=o):"q"===n?(l=s+t.values[0],d=r+t.values[1],h=s+t.values[2],o=r+t.values[3],e.push({type:"Q",values:[l,d,h,o]}),s=h,r=o):"A"===n?(h=t.values[5],o=t.values[6],e.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],h,o]}),s=h,r=o):"a"===n?(h=s+t.values[5],o=r+t.values[6],e.push({type:"A",values:[t.values[0],t.values[1],t.values[2],t.values[3],t.values[4],h,o]}),s=h,r=o):"H"===n?(h=t.values[0],e.push({type:"H",values:[h]}),s=h):"h"===n?(h=s+t.values[0],e.push({type:"H",values:[h]}),s=h):"V"===n?(o=t.values[0],e.push({type:"V",values:[o]}),r=o):"v"===n?(o=r+t.values[0],e.push({type:"V",values:[o]}),r=o):"S"===n?(c=t.values[0],u=t.values[1],h=t.values[2],o=t.values[3],e.push({type:"S",values:[c,u,h,o]}),s=h,r=o):"s"===n?(c=s+t.values[0],u=r+t.values[1],h=s+t.values[2],o=r+t.values[3],e.push({type:"S",values:[c,u,h,o]}),s=h,r=o):"T"===n?(h=t.values[0],o=t.values[1],e.push({type:"T",values:[h,o]}),s=h,r=o):"t"===n?(h=s+t.values[0],o=r+t.values[1],e.push({type:"T",values:[h,o]}),s=h,r=o):("Z"===n||"z"===n)&&(e.push({type:"Z",values:[]}),s=i,r=a)}),e}(s));return this[h]=l(e),e}if(this[n])return l(this[n]);var s=r(this.getAttribute("d")||"");return this[n]=l(s),s},SVGPathElement.prototype.setPathData=function(t){if(0===t.length)s?this.setAttribute("d",""):this.removeAttribute("d");else{for(var e="",r=0,i=t.length;i>r;r+=1){var a=t[r];r>0&&(e+=" "),e+=a.type,a.values&&a.values.length>0&&(e+=" "+a.values.join(" "))}this.setAttribute("d",e)}},SVGRectElement.prototype.getPathData=function(t){var e=this.x.baseVal.value,s=this.y.baseVal.value,r=this.width.baseVal.value,i=this.height.baseVal.value,a=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,n=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;a>r/2&&(a=r/2),n>i/2&&(n=i/2);var h=[{type:"M",values:[e+a,s]},{type:"H",values:[e+r-a]},{type:"A",values:[a,n,0,0,1,e+r,s+n]},{type:"V",values:[s+i-n]},{type:"A",values:[a,n,0,0,1,e+r-a,s+i]},{type:"H",values:[e+a]},{type:"A",values:[a,n,0,0,1,e,s+i-n]},{type:"V",values:[s+n]},{type:"A",values:[a,n,0,0,1,e+a,s]},{type:"Z",values:[]}];return h=h.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1]}),t&&!0===t.normalize&&(h=d(h)),h},SVGCircleElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,s=this.cy.baseVal.value,r=this.r.baseVal.value,i=[{type:"M",values:[e+r,s]},{type:"A",values:[r,r,0,0,1,e,s+r]},{type:"A",values:[r,r,0,0,1,e-r,s]},{type:"A",values:[r,r,0,0,1,e,s-r]},{type:"A",values:[r,r,0,0,1,e+r,s]},{type:"Z",values:[]}];return t&&!0===t.normalize&&(i=d(i)),i},SVGEllipseElement.prototype.getPathData=function(t){var e=this.cx.baseVal.value,s=this.cy.baseVal.value,r=this.rx.baseVal.value,i=this.ry.baseVal.value,a=[{type:"M",values:[e+r,s]},{type:"A",values:[r,i,0,0,1,e,s+i]},{type:"A",values:[r,i,0,0,1,e-r,s]},{type:"A",values:[r,i,0,0,1,e,s-i]},{type:"A",values:[r,i,0,0,1,e+r,s]},{type:"Z",values:[]}];return t&&!0===t.normalize&&(a=d(a)),a},SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},SVGPolylineElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var s=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[s.x,s.y]})}return t},SVGPolygonElement.prototype.getPathData=function(){for(var t=[],e=0;e<this.points.numberOfItems;e+=1){var s=this.points.getItem(e);t.push({type:0===e?"M":"L",values:[s.x,s.y]})}return t.push({type:"Z",values:[]}),t}}();const i={M:{parmCount3D:3,extCmd:"L",toAbs3D:function(t,e){let s,r=e[0].toUpperCase(),i=e[1],a=e[2],n=e[3];return r!==e[0]&&(i+=t.px,a+=t.py,n+=t.pz),s=[r,i,a,n],t.px=i,t.py=a,t.pz=n,s},toDrawCmd:function(t){let e=t[1],i=t[2],a=t[3],n=new s(e,i,a);return new r("moveTo",[],n)}},L:{parmCount3D:3,extCmd:"L",toAbs3D:function(t,e){let s,r=e[0].toUpperCase(),i=e[1],a=e[2],n=e[3];return r!==e[0]&&(i+=t.px,a+=t.py,n+=t.pz),s=[r,i,a,n],t.px=i,t.py=a,t.pz=n,s},toDrawCmd:function(t){let e=t[1],i=t[2],a=t[3],n=new s(e,i,a);return new r("lineTo",[],n)}},C:{parmCount3D:9,extCmd:"C",toAbs3D:function(t,e){let s,r=e[0].toUpperCase(),i=e[1],a=e[2],n=e[3],h=e[4],o=e[5],l=e[6],d=e[7],c=e[8],u=e[9];return r!==e[0]&&(i+=t.px,a+=t.py,n+=t.pz,h+=t.px,o+=t.py,l+=t.pz,d+=t.px,c+=t.py,u+=t.pz),s=[r,i,a,n,h,o,l,d,c,u],t.px=d,t.py=c,t.pz=u,s},toDrawCmd:function(t){let e=t[1],i=t[2],a=t[3],n=t[4],h=t[5],o=t[6],l=t[7],d=t[8],c=t[9],u=[new s(e,i,a),new s(n,h,o)],f=new s(l,d,c);return new r("bezierCurveTo",u,f)}},Z:{parmCount3D:0,toAbs3D:function(t,e){return[e[0].toUpperCase()]},toDrawCmd:function(t){return new r("closePath")}}};function a(t,e,s){return 0===s&&"string"!=typeof e&&t.push("M"),"string"==typeof e&&(["M","L","C","Z"].includes(e.toUpperCase())||(console.warn("unknown command string '"+e+"'"),t.badCmdFound=!0,t.length=0)),t.badCmdFound||t.push(e),t}function n(t,e,s,r){if(0===s&&(t.nextCmdPos=0),"string"==typeof e){if(s<t.nextCmdPos)return console.warn("bad number of parameters for '"+t.currCmd+"' at index "+s),t.badParameter=!0,t.push(0),t;t.currCmd=e.toUpperCase(),t.uc=e.toUpperCase()===e,t.nextCmdPos=s+i[t.currCmd].parmCount3D+1,t.push(e)}else if(s<t.nextCmdPos)t.push(e);else{t.currCmd=i[t.currCmd].extCmd;const r=t.uc?t.currCmd:t.currCmd.toLowerCase();t.push(r,e),t.nextCmdPos=s+i[t.currCmd].parmCount3D}return s===r.length-1&&t.badParameter&&(t.length=0),t}function h(t,e){return"string"==typeof e&&t.push([]),t[t.length-1].push(e),t}function o(t,e,s){void 0===t.px&&(t.px=0,t.py=0,t.pz=0);const r=i[e[0].toUpperCase()].toAbs3D(t,e,s);return t.push(r),t}function l(t,e){const s=i[e[0].toUpperCase()].toDrawCmd(e);return null!==s&&t.push(s),t}svgToCgo3D=function(t,e=0,s=0){const r=[];let i,a,n=[];if("string"==typeof t&&t.length)i=t,(a=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",i),(n=a.getPathData({normalize:!0})).forEach(t=>{r.push(t.type);for(let i=0;i<t.values.length;i+=2)r.push(t.values[i]+e,-t.values[i+1]-s,0)});else{if(!Array.isArray(t)||!t.length)return console.warn("invalid input data"),[];if(i="number"==typeof t[0]?"M "+t.join(" "):t.join(" "),(a=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",i),(n=a.getPathData({normalize:!0})).length<2)return console.error("Invalid SVG data"),[];n.forEach(t=>{r.push(t.type);for(let i=0;i<t.values.length;i+=2)r.push(t.values[i]+e,t.values[i+1]+s,0)})}return r},Cgo3Dsegs=class extends Array{constructor(t){let e;super(...(e=Array.isArray(t)&&0!==t.length?Array.isArray(t)&&t[0]instanceof r?function(t){const e=[];function s(t){return t}function r(t){switch(t.drawFn){case"moveTo":e.push("M"),e.push(s(t.ep.x),s(t.ep.y),s(t.ep.z));break;case"lineTo":e.push("L"),e.push(s(t.ep.x),s(t.ep.y),s(t.ep.z));break;case"bezierCurveTo":e.push("C"),e.push(s(t.cPts[0].x),s(t.cPts[0].y),s(t.cPts[0].z)),e.push(s(t.cPts[1].x),s(t.cPts[1].y),s(t.cPts[1].z)),e.push(s(t.ep.x),s(t.ep.y),s(t.ep.z));break;case"closePath":e.push("Z")}}Array.isArray(t)?t.forEach(r):r(t);return e}(t):t:[]).reduce(a,[]).reduce(n,[]).reduce(h,[]).reduce(o,[]).reduce(l,[]))}dup(){const t=[],e={moveTo:"M",lineTo:"L",bezierCurveTo:"C",closePath:"Z"};return this.forEach(s=>{t.push(e[s.drawFn]),s.cPts.forEach(e=>{t.push(e.x,e.y,e.z)}),s.ep&&t.push(s.ep.x,s.ep.y,s.ep.z)}),new Cgo3Dsegs(t)}translate(t=0,s=0,r=0){const i=u(t,s,r),a=new Cgo3Dsegs;return this.forEach(t=>{const s=e(t);s.cPts.forEach(t=>{t.hardTransform(i)}),s.ep&&s.ep.hardTransform(i),a.push(s)}),a}rotate(t=0,s=0,r=0,i=0){const a=f(t,s,r,i),n=new Cgo3Dsegs;return this.forEach(t=>{const s=e(t);s.cPts.forEach(t=>{t.hardTransform(a)}),s.ep&&s.ep.hardTransform(a),n.push(s)}),n}rotateX(t=0){return this.rotate(1,0,0,t)}rotateY(t=0){return this.rotate(0,1,0,t)}rotateZ(t=0){return this.rotate(0,0,1,t)}scale(t=1){const s=p(t),r=new Cgo3Dsegs;return this.forEach(t=>{const i=e(t);i.cPts.forEach(t=>{t.hardTransform(s)}),i.ep&&i.ep.hardTransform(s),r.push(i)}),r}scaleNonUniform(t,s,r){const i=g(t,s,r),a=new Cgo3Dsegs;return this.forEach(t=>{const s=e(t);s.cPts.forEach(t=>{t.hardTransform(i)}),s.ep&&s.ep.hardTransform(i),a.push(s)}),a}appendPath(t){let s;const r=new Cgo3Dsegs;return s=t instanceof Cgo3Dsegs?t:new Cgo3Dsegs(t),this.forEach(t=>{const s=e(t);r.push(s)}),s.forEach(t=>{const s=e(t);r.push(s)}),r}joinPath(t){const s=new Cgo3Dsegs;let r;r=t instanceof Cgo3Dsegs?t:new Cgo3Dsegs(t);let i=this.length;if(0==i)r.forEach(t=>{s.push(e(t))});else{"closePath"==this[i-1].drawFn&&(i+=-1);for(let t=0;t<i;t++)s.push(e(this[t]));for(let t=1;t<r.length;t++)s.push(e(r[t]))}return s}revWinding(){let t,s,i=this,a=null,n=i.length;const h=new Cgo3Dsegs;for("closePath"===i[n-1].drawFn&&(a=i[n-1],n-=1),s=new r("moveTo",[],e(i[t=n-1].ep)),h.push(s);t>0;){let a=e(i[t].cPts);s=new r(i[t].drawFn,a.reverse(),e(i[t-1].ep)),h.push(s),t-=1}return a&&h.push(a),h}},shapeDefs={circle:function(t=1,e=12){const s=360/e;function r(t,e){const s=Math.PI*e/180,r=Math.sin(s),i=Math.cos(s),a=[];for(let e=0;e<t.length;e+=2){let s=t[e],n=t[e+1];a[e]=s*i-n*r,a[e+1]=s*r+n*i}return a}let i=function(t,e){const s=e*Math.PI/360,r=t*Math.cos(s),i=t*Math.sin(s),a={x:r,y:-i},n={x:(4*t-r)/3,y:-(t-r)*(3*t-r)/(3*i)},h={x:(4*t-r)/3,y:(t-r)*(3*t-r)/(3*i)},o={x:r,y:i};return["M",a.x,a.y,"C",n.x,n.y,h.x,h.y,o.x,o.y]}(t/2,s),a=i.slice(4);for(let t=1;t<e;t++)i=i.concat(r(a,t*s));return i.push("Z"),i},ellipse:function(t=1,e=0){const s=e||t;return["m",-.5*t,0,"c",0,-.27614*s,.22386*t,-.5*s,.5*t,-.5*s,"c",.27614*t,0,.5*t,.22386*s,.5*t,.5*s,"c",0,.27614*s,-.22386*t,.5*s,-.5*t,.5*s,"c",-.27614*t,0,-.5*t,-.22386*s,-.5*t,-.5*s,"z"]},square:function(t=1){return["m",.5*t,-.5*t,"l",0,t,-t,0,0,-t,"z"]},rectangle:function(t=1,e=0){const s=e||t;return["m",.5*t,-.5*s,"l",0,s,-t,0,0,-s,"z"]},triangle:function(t=1){return["m",.5*t,-.289*t,"l",-.5*t,.866*t,-.5*t,-.866*t,"z"]}},
/**
   * A class to parse color values
   * @author Stoyan Stefanov <sstoo@gmail.com>
   * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
   * @license Use it if you like it
   *
   * supplemented to handle rgba format (alpha 0 .. 1)  by ARC 04Sep09
   */
RGBAColor=class{constructor(t){const e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",transparent:"rgba(0,0,0,0)",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},s=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((1(\.0)?)|0?(\.\d*)?)\)$/,example:["rgba(123, 234, 45, 0.5)","rgba(255,234,245,1)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4],10)]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}];if(this.ok=!1,"string"==typeof t){"#"===t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase();for(let s in e)t===s&&(t=e[s]);for(let e=0;e<s.length;e++){let r=s[e].re,i=s[e].process,a=r.exec(t);if(a){let t=i(a);this.r=t[0],this.g=t[1],this.b=t[2],a.length>3?this.a=t[3]:this.a=1,this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?1:this.a>1?1:this.a}else console.warn("RGBAColor argument not a string")}toRGBA(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")"}toRGB(){return"rgb("+this.r+", "+this.g+", "+this.b+")"}toHex(){let t=this.r.toString(16),e=this.g.toString(16),s=this.b.toString(16);return 1===t.length&&(t="0"+t),1===e.length&&(e="0"+e),1===s.length&&(s="0"+s),"#"+t+e+s}};class d{constructor(t,e,s){this.cgo=null,this.target=null,this.grabCallback=t||null,this.dragCallback=e||null,this.dropCallback=s||null,this.grabCsrPos={x:0,y:0,z:0},this.dwgOrg={x:0,y:0,z:0},this.grabOfs={x:0,y:0,z:0}}grab(t){const e=this,s=t||window.event;this.cgo.cnvs.onmouseup=function(t){e.drop(t)},this.cgo.cnvs.onmouseout=function(t){e.drop(t)};const r=this.cgo.getCursorPosWC(s);return this.grabCsrPos.x=r.x,this.grabCsrPos.y=r.y,this.grabCsrPos.z=0,this.dwgOrg={x:this.target.dwgOrg.tx,y:this.target.dwgOrg.ty,z:this.target.dwgOrg.tz},this.target.parent?(this.grabOfs.x=r.x-this.target.dwgOrg.tx+this.target.parent.dwgOrg.tx,this.grabOfs.y=r.y-this.target.dwgOrg.ty+this.target.parent.dwgOrg.ty,this.grabOfs.z=r.z-this.target.dwgOrg.tz+this.target.parent.dwgOrg.tz):(this.grabOfs.x=r.x-this.target.dwgOrg.tx,this.grabOfs.y=r.y-this.target.dwgOrg.ty,this.grabOfs.z=r.z-this.target.dwgOrg.tz),this.grabCallback&&this.grabCallback(r),this.cgo.cnvs.onmousemove=function(t){e.drag(t)},s.preventDefault(),!1}drag(t){const e=this.cgo.getCursorPosWC(t);return this.dragCallback&&this.dragCallback(e),!1}drop(t){const e=this.cgo.getCursorPosWC(t);this.cgo.cnvs.onmouseup=null,this.cgo.cnvs.onmouseout=null,this.cgo.cnvs.onmousemove=null,this.dropCallback&&this.dropCallback(e)}cancelDrag(t){this.cgo.cnvs.onmouseup=null,this.cgo.cnvs.onmouseout=null,this.cgo.cnvs.onmousemove=null,this.dropCallback&&this.dropCallback(t)}}class c{constructor(t){const e=Array.prototype.slice.call(arguments,1);let s;switch(t){case"TRN":s=u(...e);break;case"ROT":s=f(...e);break;case"SCL":s=p(...e);break;case"NUS":s=g(...e)}this.type=t,this.args=e,this.mat=s}}function u(t=0,e=0,s=0){return new DOMMatrix([1,0,0,0,0,1,0,0,0,0,1,0,t,e,s,1])}function f(t=1,e=0,s=0,r=0){const i=Math.sqrt(t*t+e*e+s*s),a=t/i,n=e/i,h=s/i,o=Math.sin(-r*Math.PI/180),l=Math.cos(-r*Math.PI/180),d=1-l;return new DOMMatrix([a*a*d+l,n*a*d-h*o,h*a*d+n*o,0,a*n*d+h*o,n*n*d+l,h*n*d-a*o,0,a*h*d-n*o,n*h*d+a*o,h*h*d+l,0,0,0,0,1])}function p(t=.001){const e=Math.abs(t);return new DOMMatrix([e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1])}function g(t,e,s){const r=t||.001;return new DOMMatrix([r,0,0,0,0,e||r,0,0,0,0,s||r,0,0,0,0,1])}function w(){this.cx=0,this.cy=0,this.radius=1.05,this.spotRad=.06,this.colorStops=[],this.addColorStop=function(){this.colorStops.push(arguments)}}calcNormal=function(t,e,r){const i=new s(e.x-t.x,e.y-t.y,e.z-t.z),a=new s(r.x-t.x,r.y-t.y,r.z-t.z),n=i.y*a.z-i.z*a.y,h=i.z*a.x-i.x*a.z,o=i.x*a.y-i.y*a.x,l=Math.sqrt(n*n+h*h+o*o);return l?new s(n/l,h/l,o/l):new s(0,0,1)},calcIncAngle=function(t,e,r){const i=new s(e.x-t.x,e.y-t.y,e.z-t.z),a=new s(r.x-t.x,r.y-t.y,r.z-t.z),n=i.x*a.x+i.y*a.y+i.z*a.z,h=Math.sqrt(i.x*i.x+i.y*i.y+i.z*i.z)*Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);return 180*(h?Math.acos(n/h):0)/Math.PI},objectByRevolution3D=function(t,e,s,i){const a=new Group3D,n=e||6,h=360/n,o=h*Math.PI/180;if(!("string"==typeof t||Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[3]))return void console.warn("objectOfExtrusion outline data not an SVG path");const l=new Cgo3Dsegs(svgToCgo3D(t));function d(t,e,s,r,i,a){const n=r*Math.PI/180,h=i*Math.PI/180,o=.55228475,l=e+s*Math.sin(n),d=t+s*Math.cos(n),c=e+s*Math.sin(h),u=t+s*Math.cos(h),f=a?1:0;let p,g;const w=f;(p=f?h-n:n-h)<0&&(p+=2*Math.PI),p>2*Math.PI&&(p-=2*Math.PI);const y=p>Math.PI?1:0;return g=Math.abs(p)<.01||Math.abs(p)>2*Math.PI-.01?["M",t,e-s,"C",t+o*s,e-s,t+s,e-o*s,t+s,e,t+s,e+o*s,t+o*s,e+s,t,e+s,t-o*s,e+s,t-s,e+o*s,t-s,e,t-s,e-o*s,t-o*s,e-s,t,e-s]:["M",d,l,"A",s,s,0,y,w,u,c]}let c=1,u=l.length;if(0==l[0].ep.x&&l[0].ep.y===l[1].ep.y){let t,e=l[1].ep.x;if(s){let s=["M",e,0];for(let t=1;t<n;t++)s.push("L",e*Math.cos(t*o),e*Math.sin(t*o));s.push("Z"),t=new Panel3D(s,i)}else t=new Panel3D(shapeDefs.circle(2*e,n),i);let r=new Cgo3Dsegs(t.drawCmds);r=r.rotate(1,0,0,-90).translate(0,l[0].ep.y,0),t=new Shape3D(r,i),a.addObj(t),c=2}if(0==l[u-1].ep.x&&l[u-1].ep.y===l[u-2].ep.y){let t,r=l[u-2].ep.x;if(s){let s=["M",r,0];for(let t=1;t<e;t++)s.push("L",r*Math.cos(t*o),r*Math.sin(t*o));s.push("Z"),t=new Panel3D(s,i)}else t=new Panel3D(shapeDefs.circle(2*r,n),i);let h=new Cgo3Dsegs(t.drawCmds);h=h.rotate(1,0,0,90).translate(0,l[u-1].ep.y,0),t=new Shape3D(h,i),a.addObj(t),u-=1}const f=l.dup(),p=l.rotate(0,1,0,h);for(let t=0;t<n;t++)for(let e=c;e<u;e++){let n,l,c;0==f[e-1].ep.x&&(f[e-1].ep.x=0,p[e-1].ep.x=0);let u=f[e-1].ep.x,g=f[e-1].ep.y,w=f[e].ep.x,y=f[e].ep.y;if(u>0){l=s?["M",u*Math.cos(o),u*Math.sin(o),"L",u,0]:d(0,0,u,h,0,0);let t=new Cgo3Dsegs(svgToCgo3D(l));n=t=t.rotate(1,0,0,-90).translate(0,g,0)}else{let t=new r("moveTo",[],f[e-1].ep);n=new Cgo3Dsegs([t])}if(n.push(f[e]),w>3){c=s?["M",w,0,"L",w*Math.cos(-o),w*Math.sin(-o)]:d(0,0,w,0,-h,0);let t=new Cgo3Dsegs(svgToCgo3D(c));t=t.rotate(1,0,0,90).translate(0,y,0),n.push(t[1])}let m=new r(p[e].drawFn.slice(0),[],p[e-1].ep);1===p[e].cPts.length&&m.cPts.push(p[e].cPts[0]),2===p[e].cPts.length&&(m.cPts.push(p[e].cPts[1]),m.cPts.push(p[e].cPts[0])),n.push(m),n=n.rotate(0,1,0,-t*h);const M=new Shape3D(n,i);a.addObj(M)}return a},objectByExtrusion3D=function(t,s=1,i){let a,n,h,o,l,d,c;if(!("string"==typeof t||Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[3]))return void console.warn("objectOfExtrusion outline data not an SVG path");let u=new Cgo3Dsegs(svgToCgo3D(t));"closePath"!==u[u.length-1].drawFn&&u.push(new r("closePath"));let f=u.revWinding(),p=new Shape3D(u,i);if(p.normal.z<0){p=new Shape3D(f,i);let t=u;u=f,f=t}p.type="PANEL",p.setProperty("backhidden",!0);const g=new Group3D(p),w=u.translate(0,0,-s),y=u.length-2;for(var m=0;m<y;m++)a=new Cgo3Dsegs,n=new r("moveTo",[],u[m].ep),a.push(n),h=new r("lineTo",[],w[m].ep),a.push(h),a.push(e(w[m+1])),o=new r("lineTo",[],u[m+1].ep),a.push(o),a.push(e(f[y-m])),d=new r("closePath"),a.push(d),(c=new Shape3D(a,i)).setProperty("backHidden",!0),g.addObj(c);a=new Cgo3Dsegs,n=new r("moveTo",[],f[y-m].ep),a.push(n),h=new r("lineTo",[],w[m].ep),a.push(h),o=new r("lineTo",[],w[0].ep),a.push(o),l=new r("lineTo",[],u[0].ep),a.push(l),d=new r("closePath"),a.push(d),(c=new Shape3D(a,i)).setProperty("backHidden",!0),g.addObj(c);const M=new Shape3D(w,i);return M.type="PANEL",M.setProperty("backhidden",!1),M.flipNormal(),g.addObj(M),g},surfaceByExtrusion3D=function(t,s=1,i){let a,n,h,o,l,d,c;if(!("string"==typeof t||Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[3]))return void console.warn("objectOfExtrusion outline data not an SVG path");let u=new Cgo3Dsegs(svgToCgo3D(t));const f="closePath"===u[u.length-1].drawFn;let p=u.revWinding();if(new Shape3D(u,i).normal.z<0){let t=u;u=p,p=t}const g=u.translate(0,0,-s),w=new Group3D,y=f?u.length-2:u.length-1;for(var m=0;m<y;m++)a=new Cgo3Dsegs,n=new r("moveTo",[],u[m].ep),a.push(n),h=new r("lineTo",[],g[m].ep),a.push(h),a.push(e(g[m+1])),o=new r("lineTo",[],u[m+1].ep),a.push(o),a.push(e(p[y-m])),d=new r("closePath"),a.push(d),c=new Shape3D(a,i),w.addObj(c);return f&&(a=new Cgo3Dsegs,n=new r("moveTo",[],p[y-m].ep),a.push(n),h=new r("lineTo",[],g[m].ep),a.push(h),o=new r("lineTo",[],g[0].ep),a.push(o),l=new r("lineTo",[],u[0].ep),a.push(l),d=new r("closePath"),a.push(d),c=new Shape3D(a,i),w.addObj(c)),w},Group3D=class{constructor(){this.type="GROUP",this.parent=null,this.children=[],this.dwgOrg=new s(0,0,0),this.centroid=new s,this.ofsTfmAry=[],this.netTfmAry=[],this.netTfm=new DOMMatrix,this.dragNdropHandlers,this.addObj.apply(this,arguments)}setProperty(t,e){!function s(r){r.children.forEach(function(r){"GROUP"===r.type?s(r):r.setProperty(t,e)})}(this)}deleteObj(t){const e=this.children.indexOf(t);-1!==e&&(this.children.splice(e,1),t.parent=null)}addObj(...e){const s=e=>{e.forEach(e=>{if(Array.isArray(e))s(e);else{if(!e||!t.includes(e.type))return void console.warn("Group3D.addObj: argument Type Error",e);e.parent=this,this.children.push(e),!e.dragNdrop&&this.dragNdropHandlers&&(e.enableDrag.apply(e,this.dragNdropHandlers),e.dragNdrop.target=this)}})};s(e);let r=0,i=0,a=0,n=0;for(let t=0;t<this.children.length;t++)r+=this.children[t].centroid.x,i+=this.children[t].centroid.y,a+=this.children[t].centroid.z,n++;n&&(this.centroid.x=r/n,this.centroid.y=i/n,this.centroid.z=a/n)}translate(t=0,e=0,s=0){this.ofsTfmAry.push(new c("TRN",t,e,s))}scale(t=1){this.ofsTfmAry.push(new c("SCL",t)),this.lineWidth*=t}scaleNonUniform(t=1,e,s){this.ofsTfmAry.push(new c("NUS",t,e,s)),this.lineWidth*=t}rotate(t,e,s,r){this.ofsTfmAry.push(new c("ROT",t,e,s,r))}rotateX(t=0){this.ofsTfmAry.push(new c("ROT",1,0,0,t))}rotateY(t=0){this.ofsTfmAry.push(new c("ROT",0,1,0,t))}rotateZ(t=0){this.ofsTfmAry.push(new c("ROT",0,0,1,t))}transformReset(){this.ofsTfmAry=[]}enableDrag(t,e,s){const r=this;this.dragNdropHandlers=arguments,function i(a){a.children.forEach(function(a){"GROUP"===a.type?i(a):null===a.dragNdrop&&(a.enableDrag(t,e,s),a.dragNdrop.target=r)})}(this)}disableDrag(){this.dragNdropHandlers=void 0,function t(e){e.children.forEach(function(e){"GROUP"===e.type?t(e):e.disableDrag()})}(this)}tagChildPanel(t,s,r,i){const a=r||0,n=i||0;let h=null,o=null;if(t<0||t>=this.children.length)console.warn("tagChildPanel child index out of range");else{if("PANEL"===this.children[t].type){h=this.children[t].dup();const e=this.children[t].dragNdrop;e&&(h.enableDrag(e.grabCallback,e.dragCallback,e.dropCallback),h.dragNdrop.target=e.target)}else"GROUP"===this.children[t].type&&this.children[t].taggedPanelGrp&&(h=(o=this.children[t]).children[0]);if(null!==h)if("PANEL"===s.type||"TEXT"===s.type){if(null!==s.parent){s=s.dup()()}s.hardTfmAry=e(h.hardTfmAry),s.hardTfmAry.push(new c("TRN",a,n,0)),s.backHidden=!0,s.centroid.x=h.centroid.x,s.centroid.y=h.centroid.y,s.centroid.z=h.centroid.z,s.normal.x=h.normal.x,s.normal.y=h.normal.y,s.normal.z=h.normal.z,s.dwgOrg.x=h.dwgOrg.x,s.dwgOrg.y=h.dwgOrg.y,s.dwgOrg.z=h.dwgOrg.z,h.dragNdrop&&(s.enableDrag(h.dragNdrop.grabCallback,h.dragNdrop.dragCallback,h.dragNdrop.dropCallback),s.dragNdrop.target=h.dragNdrop.target),o?o.addObj(s):((o=new Group3D(h,s)).taggedPanelGrp=!0,this.children[t]=o,this.children[t].parent=this)}else console.warn("tagChildPanel tag object not a Panel3D or Text3D");else console.warn("tagChildPanel target child not a Panel3D")}}},Sphere3D=class extends Group3D{constructor(t=100,e){super(),this.diameter=t,this.scaling=1,this.baseRGB={r:255,g:0,b:0},this.shine=.5,this.ambient=.7,this.hardTfmAry=[],this.lightColor=void 0,this.darkColor=void 0,this.darkBlur=void 0,this.disc=new Panel3D(["M",0,0].concat(shapeDefs.circle(this.diameter,4)),{fillColor:this.lightColor}),this.disc.centroid=new s(0,0,0),this.disc.hiliteFill=!0,this.shader=new Panel3D(this.shadeOutline(this.diameter/2,this.diameter/2),{fillColor:this.darkColor}),this.shader.centroid=new s(0,0,0),this.shader.hiliteFill=!1,this.children.push(this.disc,this.shader),this.shader.parent=this,this.disc.parent=this,this.scaleNonUniform=void 0,this.deleteObj=void 0,this.addObj=void 0,this.tagChildPanel=void 0;const r="object"==typeof e?e:{};for(let t in r)r.hasOwnProperty(t)&&this.setProperty(t,r[t]);void 0===this.disc.fillColor&&this.genColors(this.baseRGB,this.shine,this.ambient)}shadeOutline(t,e,s=0){const r=Math.PI*s/180,i=Math.sin(r),a=Math.cos(r),n=.551915,h=t,o=e;function l(t,e){return[t*a-e*i,t*i+e*a]}return["M",0,0,"M",...l(0,o),"C",...l(-n*o,o),...l(-o,n*o),...l(-o,0),"C",...l(-o,-n*o),...l(-n*o,-o),...l(0,-o),"C",...l(n*h,-o),...l(h,-n*o),...l(h,0),"C",...l(h,n*o),...l(n*h,o),...l(0,o),"Z"]}genColors(t,e,s){const r={r:s*t.r,g:s*t.g,b:s*t.b};this.lightColor=function(){const s=t.r,r=t.g,i=t.b,a=s+e*(255-s),n=r+e*(255-r),h=i+e*(255-i),o=new w;return o.addColorStop(0,"rgba("+a+","+n+","+h+",1)"),o.addColorStop(.5,"rgba("+s+","+r+","+i+",1)"),o.addColorStop(.78,"rgba("+Math.round(.85*s)+","+Math.round(.85*r)+","+Math.round(.85*i)+",1)"),o.addColorStop(1,"rgba("+Math.round(.6*s)+","+Math.round(.6*r)+","+Math.round(.6*i)+",1)"),o}(),this.darkColor=function(){const t=new w;return t.addColorStop(0,"rgba("+r.r+","+r.g+","+r.b+",1)"),t.addColorStop(.35,"rgba("+r.r+","+r.g+","+r.b+",1)"),t.addColorStop(.78,"rgba("+Math.round(.85*r.r)+","+Math.round(.85*r.g)+","+Math.round(.85*r.b)+",1)"),t.addColorStop(1,"rgba("+Math.round(.6*r.r)+","+Math.round(.6*r.g)+","+Math.round(.6*r.b)+",1)"),t}(),this.darkBlur="rgba("+r.r+","+r.g+","+r.b+",1)",this.disc.fillColor=this.lightColor,this.shader.fillColor=this.darkColor,this.shader.shadowColor=this.darkBlur}setProperty(t,e){let r;if("string"==typeof t&&null!=e)switch(t.toLowerCase()){case"fillcolor":(r=new RGBAColor(e)).ok?(this.baseRGB={r:r.r,g:r.g,b:r.b},this.genColors(this.baseRGB,this.shine,this.ambient)):console.warn("bad argument for 'fillColor' option");break;case"ambient":e<=1&&e>=0&&(this.ambient=e,this.genColors(this.baseRGB,this.shine,this.ambient));break;case"shine":e<=1&&e>=0&&(this.shine=e,this.genColors(this.baseRGB,this.shine,this.ambient));break;case"trans":Array.isArray(e)&&3===e.length?this.hardTfmAry.unshift(new c("TRN",e[0],e[1],e[2])):e instanceof s?this.hardTfmAry.unshift(new c("TRN",e.x,e.y,e.z)):console.warn("bad argument for 'trans' option");break;case"x":this.hardTfmAry.unshift(new c("TRN",e,0,0));break;case"y":this.hardTfmAry.unshift(new c("TRN",0,e,0));break;case"z":this.hardTfmAry.unshift(new c("TRN",0,0,e));break;case"rot":Array.isArray(e)&&4===e.length?this.hardTfmAry.unshift(new c("ROT",e[0],e[1],e[2],e[3])):console.warn("bad argument for 'rot' option");break;case"xrot":case"rotx":this.hardTfmAry.unshift(new c("ROT",1,0,0,e));break;case"yrot":case"roty":this.hardTfmAry.unshift(new c("ROT",0,1,0,e));break;case"zrot":case"rotz":this.hardTfmAry.unshift(new c("ROT",0,0,1,e));break;case"scl":const i=0!=e?e:1;this.hardTfmAry.unshift(new c("SCL",i))}}};class y{constructor(t,e,r){let i=0,a=0,n=0,h=0;if(this.type=e||"SHAPE",this.parent=null,this.drawCmds=[],this.bBoxCmds=[],this.dwgOrg=new s(0,0,0),this.centroid=new s(0,0,0),this.normal=new s(0,0,0),this.dragNdrop=null,this.hardTfmAry=[],this.ofsTfmAry=[],this.netTfm=new DOMMatrix,this.strokeColor=null,this.fillColor=null,this.backColor=null,this.flatColor=!1,this.backHidden=!1,this.lineWidth=null,this.lineWidthWC=null,this.width=0,this.height=0,this.lineCap=null,this.lineJoin=null,this.fontSize=null,this.fontWeight=null,this.lorg=7,t instanceof Cgo3Dsegs&&(this.drawCmds=t),this.drawCmds.length){if(this.drawCmds.forEach(function(t){void 0!==t.ep&&(i+=t.ep.x,a+=t.ep.y,n+=t.ep.z,h++)}),this.centroid.x=i/h,this.centroid.y=a/h,this.centroid.z=n/h,this.drawCmds.length>2)this.normal=calcNormal(this.centroid,this.drawCmds[1].ep,this.drawCmds[2].ep);else{if(2!==this.drawCmds.length)return;this.drawCmds[1].cPts.length?this.normal=calcNormal(this.centroid,this.drawCmds[1].ep,this.drawCmds[1].cPts[0]):(this.centroid.x=this.drawCmds[0].ep.x,this.centroid.y=this.drawCmds[0].ep.y,this.centroid.z=this.drawCmds[0].ep.z,this.drawCmds[1].ep.z?this.drawCmds[1].ep.y?this.drawCmds[1].ep.x?this.normal=calcNormal(this.centroid,new s(0,0,1),this.drawCmds[1].cPts[0]):this.normal.x=1:this.normal.y=1:this.normal.z=1)}this.normal.x+=this.centroid.x,this.normal.y+=this.centroid.y,this.normal.z+=this.centroid.z}const o="object"==typeof r?r:{};for(let t in o)o.hasOwnProperty(t)&&this.setProperty(t,o[t])}flipNormal(){const t=this.normal.x,e=this.normal.y,s=this.normal.z;this.normal.x=2*this.centroid.x-t,this.normal.y=2*this.centroid.y-e,this.normal.z=2*this.centroid.z-s}translate(t,e,s){this.ofsTfmAry.push(new c("TRN",t,e,s))}scale(t=1){this.ofsTfmAry.push(new c("SCL",t)),this.lineWidth*=t}scaleNonUniform(t,e,s){const r=t||1;this.ofsTfmAry.push(new c("NUS",t,e,s)),this.lineWidth*=r}rotate(t,e,s,r){this.ofsTfmAry.push(new c("ROT",t,e,s,r))}rotateX(t=0){this.ofsTfmAry.push(new c("ROT",1,0,0,t))}rotateY(t=0){this.ofsTfmAry.push(new c("ROT",0,1,0,t))}rotateZ(t=0){this.ofsTfmAry.push(new c("ROT",0,0,1,t))}transformReset(){this.ofsTfmAry=[]}enableDrag(t,e,s){this.dragNdrop=new d(t,e,s),this.dragNdrop.target=this}disableDrag(){if(!this.dragNdrop||!this.dragNdrop.cgo)return;const t=this.dragNdrop.cgo.cnvs.dragObjects.indexOf(this);this.dragNdrop.cgo.cnvs.dragObjects.splice(t,1),this.dragNdrop=null}setProperty(t,e){let r;if("string"==typeof t&&null!=e)switch(t.toLowerCase()){case"fillcolor":e instanceof w?this.fillColor=e:(r=new RGBAColor(e)).ok?this.fillColor=r:console.warn("bad argument for 'fillColor' option");break;case"backcolor":e instanceof w?this.backColor=e:(r=new RGBAColor(e)).ok?this.backColor=r:console.warn("bad argument for 'backColor' option");break;case"strokecolor":e instanceof w?this.strokeColor=e:(r=new RGBAColor(e)).ok?this.strokeColor=r:console.warn("bad argument for 'strokeColor' option");break;case"backhidden":this.backHidden=!0===e;break;case"flatcolor":this.flatColor=!0===e;break;case"border":this.border=!0===e;break;case"linewidth":case"strokewidth":this.lineWidth=e;break;case"linewidthwc":this.lineWidthWC=e;break;case"linecap":if("string"!=typeof e)return;"butt"!==e&&"round"!==e&&"square"!==e||(this.lineCap=e);break;case"linejoin":if("string"!=typeof e)return;"bevel"!==e&&"round"!==e&&"miter"!==e||(this.lineJoin=e);break;case"fontsize":this.fontSize=e;break;case"fontweight":("string"==typeof e||"number"==typeof e&&e>=100&&e<=900)&&(this.fontWeight=e);break;case"lorg":-1!==[1,2,3,4,5,6,7,8,9].indexOf(e)?this.lorg=e:console.warn("bad argument for 'lorg' option");break;case"trans":Array.isArray(e)&&3===e.length?this.hardTfmAry.unshift(new c("TRN",e[0],e[1],e[2])):e instanceof s?this.hardTfmAry.unshift(new c("TRN",e.x,e.y,e.z)):console.warn("bad argument for 'trans' option");break;case"x":this.hardTfmAry.unshift(new c("TRN",e,0,0));break;case"y":this.hardTfmAry.unshift(new c("TRN",0,e,0));break;case"z":this.hardTfmAry.unshift(new c("TRN",0,0,e));break;case"rot":Array.isArray(e)&&4===e.length?this.hardTfmAry.unshift(new c("ROT",e[0],e[1],e[2],e[3])):console.warn("bad argument for 'rot' option");break;case"xrot":case"rotx":this.hardTfmAry.unshift(new c("ROT",1,0,0,e));break;case"yrot":case"roty":this.hardTfmAry.unshift(new c("ROT",0,1,0,e));break;case"zrot":case"rotz":this.hardTfmAry.unshift(new c("ROT",0,0,1,e));break;case"scl":const i=0!=e?e:1;this.hardTfmAry.unshift(new c("SCL",i));break;case"sclnonuniform":Array.isArray(e)&&3===e.length?this.hardTfmAry.unshift(new c("NUS",e[0],e[1],e[2])):console.warn("bad argument for 'sclNonUniform' option")}}dup(){const t=new y;return t.parent=this.parent,t.type=this.type,t.drawCmds=e(this.drawCmds),t.bBoxCmds=e(this.bBoxCmds),t.dwgOrg=e(this.dwgOrg),t.centroid=e(this.centroid),t.normal=e(this.normal),t.hardTfmAry=e(this.hardTfmAry),this.strokeColor?t.setProperty("strokeColor",this.strokeColor.toRGBA()):t.strokeColor=null,this.fillColor?t.setProperty("fillColor",this.fillColor.toRGBA()):t.fillColor=null,this.backColor?t.setProperty("backColor",this.backColor.toRGBA()):t.backColor=null,t.backHidden=this.backHidden,t.flatColor=this.flatColor,t.lineWidth=this.lineWidth,t.lineWidthWC=this.lineWidthWC,t.lineCap=this.lineCap,t.lineJoin=this.lineJoin,t.fontSize=this.fontSize,t.fontWeight=this.fontWeight,t.lorg=this.lorg,t.width=this.width,t.height=this.height,t}}Path3D=class extends y{constructor(t,e){let s;t instanceof Cgo3Dsegs?s=t:Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[4]&&(s=new Cgo3Dsegs(t)),super(s,"PATH",e)}},Panel3D=class extends y{constructor(t,e){let s;if("string"==typeof t||Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[3]){const e=svgToCgo3D(t);s=new Cgo3Dsegs(e)}else console.warn("descriptor for Panel3D not String or Array of 2D SVG commands");super(s,"PANEL",e)}},Shape3D=class extends y{constructor(t,e){let s;t instanceof Cgo3Dsegs?s=t:Array.isArray(t)&&t.length&&"string"==typeof t[0]&&"string"==typeof t[4]&&(s=new Cgo3Dsegs(t)),super(s,"SHAPE",e)}},Text3D=class extends y{constructor(t,e){const i=m.stringToCgo3D(t);super(new Cgo3Dsegs(i.cgoData),"TEXT",e),this.width=i.width,this.height=i.height,this.lineCap="round";const a=.25*i.height,n=new s(0,-a,0),h=new s(i.width,-a,0),o=new s(0,i.height-a,0),l=new s(i.width,i.height-a,0);this.bBoxCmds[0]=new r("moveTo",[],o),this.bBoxCmds[1]=new r("lineTo",[],n),this.bBoxCmds[2]=new r("lineTo",[],h),this.bBoxCmds[3]=new r("lineTo",[],l),this.bBoxCmds[4]=new r("closePath",[])}};const m={letters:{" ":{width:16,cdata:[]},"!":{width:10,cdata:["M",5,21,0,"L",5,7,0,"M",5,2,0,"L",4,1,0,5,0,0,6,1,0,5,2,0]},'"':{width:16,cdata:["M",4,21,0,"L",4,14,0,"M",12,21,0,"L",12,14,0]},"#":{width:21,cdata:["M",11,25,0,"L",4,-7,0,"M",17,25,0,"L",10,-7,0,"M",4,12,0,"L",18,12,0,"M",3,6,0,"L",17,6,0]},$:{width:20,cdata:["M",8,25,0,"L",8,-4,0,"M",12,25,0,"L",12,-4,0,"M",17,18,0,"L",15,20,0,12,21,0,8,21,0,5,20,0,3,18,0,3,16,0,4,14,0,5,13,0,7,12,0,13,10,0,15,9,0,16,8,0,17,6,0,17,3,0,15,1,0,12,0,0,8,0,0,5,1,0,3,3,0]},"%":{width:24,cdata:["M",21,21,0,"L",3,0,0,"M",8,21,0,"L",10,19,0,10,17,0,9,15,0,7,14,0,5,14,0,3,16,0,3,18,0,4,20,0,6,21,0,8,21,0,10,20,0,13,19,0,16,19,0,19,20,0,21,21,0,"M",17,7,0,"L",15,6,0,14,4,0,14,2,0,16,0,0,18,0,0,20,1,0,21,3,0,21,5,0,19,7,0,17,7,0]},"&":{width:26,cdata:["M",23,12,0,"L",23,13,0,22,14,0,21,14,0,20,13,0,19,11,0,17,6,0,15,3,0,13,1,0,11,0,0,7,0,0,5,1,0,4,2,0,3,4,0,3,6,0,4,8,0,5,9,0,12,13,0,13,14,0,14,16,0,14,18,0,13,20,0,11,21,0,9,20,0,8,18,0,8,16,0,9,13,0,11,10,0,16,3,0,18,1,0,20,0,0,22,0,0,23,1,0,23,2,0]},"'":{width:10,cdata:["M",5,19,0,"L",4,20,0,5,21,0,6,20,0,6,18,0,5,16,0,4,15,0]},"(":{width:14,cdata:["M",11,25,0,"L",9,23,0,7,20,0,5,16,0,4,11,0,4,7,0,5,2,0,7,-2,0,9,-5,0,11,-7,0]},")":{width:14,cdata:["M",3,25,0,"L",5,23,0,7,20,0,9,16,0,10,11,0,10,7,0,9,2,0,7,-2,0,5,-5,0,3,-7,0]},"*":{width:16,cdata:["M",8,15,0,"L",8,3,0,"M",3,12,0,"L",13,6,0,"M",13,12,0,"L",3,6,0]},"+":{width:26,cdata:["M",13,18,0,"L",13,0,0,"M",4,9,0,"L",22,9,0]},",":{width:8,cdata:["M",5,4,0,"L",4,3,0,3,4,0,4,5,0,5,4,0,5,2,0,3,0,0]},"-":{width:26,cdata:["M",4,9,0,"L",22,9,0]},".":{width:8,cdata:["M",4,5,0,"L",3,4,0,4,3,0,5,4,0,4,5,0]},"/":{width:22,cdata:["M",20,25,0,"L",2,-7,0]},0:{width:20,cdata:["M",9,21,0,"L",6,20,0,4,17,0,3,12,0,3,9,0,4,4,0,6,1,0,9,0,0,11,0,0,14,1,0,16,4,0,17,9,0,17,12,0,16,17,0,14,20,0,11,21,0,9,21,0]},1:{width:20,cdata:["M",6,17,0,"L",8,18,0,11,21,0,11,0,0]},2:{width:20,cdata:["M",4,16,0,"L",4,17,0,5,19,0,6,20,0,8,21,0,12,21,0,14,20,0,15,19,0,16,17,0,16,15,0,15,13,0,13,10,0,3,0,0,17,0,0]},3:{width:20,cdata:["M",5,21,0,"L",16,21,0,10,13,0,13,13,0,15,12,0,16,11,0,17,8,0,17,6,0,16,3,0,14,1,0,11,0,0,8,0,0,5,1,0,4,2,0,3,4,0]},4:{width:20,cdata:["M",13,21,0,"L",3,7,0,18,7,0,"M",13,21,0,"L",13,0,0]},5:{width:20,cdata:["M",15,21,0,"L",5,21,0,4,12,0,5,13,0,8,14,0,11,14,0,14,13,0,16,11,0,17,8,0,17,6,0,16,3,0,14,1,0,11,0,0,8,0,0,5,1,0,4,2,0,3,4,0]},6:{width:20,cdata:["M",16,18,0,"L",15,20,0,12,21,0,10,21,0,7,20,0,5,17,0,4,12,0,4,7,0,5,3,0,7,1,0,10,0,0,11,0,0,14,1,0,16,3,0,17,6,0,17,7,0,16,10,0,14,12,0,11,13,0,10,13,0,7,12,0,5,10,0,4,7,0]},7:{width:20,cdata:["M",17,21,0,"L",7,0,0,"M",3,21,0,"L",17,21,0]},8:{width:20,cdata:["M",8,21,0,"L",5,20,0,4,18,0,4,16,0,5,14,0,7,13,0,11,12,0,14,11,0,16,9,0,17,7,0,17,4,0,16,2,0,15,1,0,12,0,0,8,0,0,5,1,0,4,2,0,3,4,0,3,7,0,4,9,0,6,11,0,9,12,0,13,13,0,15,14,0,16,16,0,16,18,0,15,20,0,12,21,0,8,21,0]},9:{width:20,cdata:["M",16,14,0,"L",15,11,0,13,9,0,10,8,0,9,8,0,6,9,0,4,11,0,3,14,0,3,15,0,4,18,0,6,20,0,9,21,0,10,21,0,13,20,0,15,18,0,16,14,0,16,9,0,15,4,0,13,1,0,10,0,0,8,0,0,5,1,0,4,3,0]},":":{width:8,cdata:["M",4,12,0,"L",3,11,0,4,10,0,5,11,0,4,12,0,"M",4,5,0,"L",3,4,0,4,3,0,5,4,0,4,5,0]},";":{width:8,cdata:["M",4,12,0,"L",3,11,0,4,10,0,5,11,0,4,12,0,"M",5,4,0,"L",4,3,0,3,4,0,4,5,0,5,4,0,5,2,0,3,0,0]},"<":{width:24,cdata:["M",20,18,0,"L",4,9,0,20,0,0]},"=":{width:26,cdata:["M",4,12,0,"L",22,12,0,"M",4,6,0,"L",22,6,0]},">":{width:24,cdata:["M",4,18,0,"L",20,9,0,4,0,0]},"?":{width:18,cdata:["M",3,16,0,"L",3,17,0,4,19,0,5,20,0,7,21,0,11,21,0,13,20,0,14,19,0,15,17,0,15,15,0,14,13,0,13,12,0,9,10,0,9,7,0,"M",9,2,0,"L",8,1,0,9,0,0,10,1,0,9,2,0]},"@":{width:27,cdata:["M",18,13,0,"L",17,15,0,15,16,0,12,16,0,10,15,0,9,14,0,8,11,0,8,8,0,9,6,0,11,5,0,14,5,0,16,6,0,17,8,0,"M",12,16,0,"L",10,14,0,9,11,0,9,8,0,10,6,0,11,5,0,"M",18,16,0,"L",17,8,0,17,6,0,19,5,0,21,5,0,23,7,0,24,10,0,24,12,0,23,15,0,22,17,0,20,19,0,18,20,0,15,21,0,12,21,0,9,20,0,7,19,0,5,17,0,4,15,0,3,12,0,3,9,0,4,6,0,5,4,0,7,2,0,9,1,0,12,0,0,15,0,0,18,1,0,20,2,0,21,3,0,"M",19,16,0,"L",18,8,0,18,6,0,19,5,0]},A:{width:18,cdata:["M",9,21,0,"L",1,0,0,"M",9,21,0,"L",17,0,0,"M",4,7,0,"L",14,7,0]},B:{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",13,21,0,16,20,0,17,19,0,18,17,0,18,15,0,17,13,0,16,12,0,13,11,0,"M",4,11,0,"L",13,11,0,16,10,0,17,9,0,18,7,0,18,4,0,17,2,0,16,1,0,13,0,0,4,0,0]},C:{width:21,cdata:["M",18,16,0,"L",17,18,0,15,20,0,13,21,0,9,21,0,7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0]},D:{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",11,21,0,14,20,0,16,18,0,17,16,0,18,13,0,18,8,0,17,5,0,16,3,0,14,1,0,11,0,0,4,0,0]},E:{width:19,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",17,21,0,"M",4,11,0,"L",12,11,0,"M",4,0,0,"L",17,0,0]},F:{width:18,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",17,21,0,"M",4,11,0,"L",12,11,0]},G:{width:21,cdata:["M",18,16,0,"L",17,18,0,15,20,0,13,21,0,9,21,0,7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0,18,8,0,"M",13,8,0,"L",18,8,0]},H:{width:22,cdata:["M",4,21,0,"L",4,0,0,"M",18,21,0,"L",18,0,0,"M",4,11,0,"L",18,11,0]},I:{width:8,cdata:["M",4,21,0,"L",4,0,0]},J:{width:16,cdata:["M",12,21,0,"L",12,5,0,11,2,0,10,1,0,8,0,0,6,0,0,4,1,0,3,2,0,2,5,0,2,7,0]},K:{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",18,21,0,"L",4,7,0,"M",9,12,0,"L",18,0,0]},L:{width:17,cdata:["M",4,21,0,"L",4,0,0,"M",4,0,0,"L",16,0,0]},M:{width:24,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",12,0,0,"M",20,21,0,"L",12,0,0,"M",20,21,0,"L",20,0,0]},N:{width:22,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",18,0,0,"M",18,21,0,"L",18,0,0]},O:{width:22,cdata:["M",9,21,0,"L",7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0,19,8,0,19,13,0,18,16,0,17,18,0,15,20,0,13,21,0,9,21,0]},P:{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",13,21,0,16,20,0,17,19,0,18,17,0,18,14,0,17,12,0,16,11,0,13,10,0,4,10,0]},Q:{width:22,cdata:["M",9,21,0,"L",7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0,19,8,0,19,13,0,18,16,0,17,18,0,15,20,0,13,21,0,9,21,0,"M",12,4,0,"L",18,-2,0]},R:{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",13,21,0,16,20,0,17,19,0,18,17,0,18,15,0,17,13,0,16,12,0,13,11,0,4,11,0,"M",11,11,0,"L",18,0,0]},S:{width:20,cdata:["M",17,18,0,"L",15,20,0,12,21,0,8,21,0,5,20,0,3,18,0,3,16,0,4,14,0,5,13,0,7,12,0,13,10,0,15,9,0,16,8,0,17,6,0,17,3,0,15,1,0,12,0,0,8,0,0,5,1,0,3,3,0]},T:{width:16,cdata:["M",8,21,0,"L",8,0,0,"M",1,21,0,"L",15,21,0]},U:{width:22,cdata:["M",4,21,0,"L",4,6,0,5,3,0,7,1,0,10,0,0,12,0,0,15,1,0,17,3,0,18,6,0,18,21,0]},V:{width:18,cdata:["M",1,21,0,"L",9,0,0,"M",17,21,0,"L",9,0,0]},W:{width:24,cdata:["M",2,21,0,"L",7,0,0,"M",12,21,0,"L",7,0,0,"M",12,21,0,"L",17,0,0,"M",22,21,0,"L",17,0,0]},X:{width:20,cdata:["M",3,21,0,"L",17,0,0,"M",17,21,0,"L",3,0,0]},Y:{width:18,cdata:["M",1,21,0,"L",9,11,0,9,0,0,"M",17,21,0,"L",9,11,0]},Z:{width:20,cdata:["M",17,21,0,"L",3,0,0,"M",3,21,0,"L",17,21,0,"M",3,0,0,"L",17,0,0]},"[":{width:14,cdata:["M",4,25,0,"L",4,-7,0,"M",5,25,0,"L",5,-7,0,"M",4,25,0,"L",11,25,0,"M",4,-7,0,"L",11,-7,0]},"\\":{width:14,cdata:["M",0,21,0,"L",14,-3,0]},"]":{width:14,cdata:["M",9,25,0,"L",9,-7,0,"M",10,25,0,"L",10,-7,0,"M",3,25,0,"L",10,25,0,"M",3,-7,0,"L",10,-7,0]},"^":{width:16,cdata:["M",8,23,0,"L",0,9,0,"M",8,23,0,"L",16,9,0]},_:{width:18,cdata:["M",0,-7,0,"L",18,-7,0]},"`":{width:8,cdata:["M",5,16,0,"L",3,14,0,3,12,0,4,11,0,5,12,0,4,13,0,3,12,0]},a:{width:19,cdata:["M",15,14,0,"L",15,0,0,"M",15,11,0,"L",13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},b:{width:19,cdata:["M",4,21,0,"L",4,0,0,"M",4,11,0,"L",6,13,0,8,14,0,11,14,0,13,13,0,15,11,0,16,8,0,16,6,0,15,3,0,13,1,0,11,0,0,8,0,0,6,1,0,4,3,0]},c:{width:18,cdata:["M",15,11,0,"L",13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},d:{width:19,cdata:["M",15,21,0,"L",15,0,0,"M",15,11,0,"L",13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},e:{width:18,cdata:["M",3,8,0,"L",15,8,0,15,10,0,14,12,0,13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},f:{width:12,cdata:["M",10,21,0,"L",8,21,0,6,20,0,5,17,0,5,0,0,"M",2,14,0,"L",9,14,0]},g:{width:19,cdata:["M",15,14,0,"L",15,-2,0,14,-5,0,13,-6,0,11,-7,0,8,-7,0,6,-6,0,"M",15,11,0,"L",13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},h:{width:19,cdata:["M",4,21,0,"L",4,0,0,"M",4,10,0,"L",7,13,0,9,14,0,12,14,0,14,13,0,15,10,0,15,0,0]},i:{width:8,cdata:["M",3,21,0,"L",4,20,0,5,21,0,4,22,0,3,21,0,"M",4,14,0,"L",4,0,0]},j:{width:10,cdata:["M",5,21,0,"L",6,20,0,7,21,0,6,22,0,5,21,0,"M",6,14,0,"L",6,-3,0,5,-6,0,3,-7,0,1,-7,0]},k:{width:17,cdata:["M",4,21,0,"L",4,0,0,"M",14,14,0,"L",4,4,0,"M",8,8,0,"L",15,0,0]},l:{width:8,cdata:["M",4,21,0,"L",4,0,0]},m:{width:30,cdata:["M",4,14,0,"L",4,0,0,"M",4,10,0,"L",7,13,0,9,14,0,12,14,0,14,13,0,15,10,0,15,0,0,"M",15,10,0,"L",18,13,0,20,14,0,23,14,0,25,13,0,26,10,0,26,0,0]},n:{width:19,cdata:["M",4,14,0,"L",4,0,0,"M",4,10,0,"L",7,13,0,9,14,0,12,14,0,14,13,0,15,10,0,15,0,0]},o:{width:19,cdata:["M",8,14,0,"L",6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0,16,6,0,16,8,0,15,11,0,13,13,0,11,14,0,8,14,0]},p:{width:19,cdata:["M",4,14,0,"L",4,-7,0,"M",4,11,0,"L",6,13,0,8,14,0,11,14,0,13,13,0,15,11,0,16,8,0,16,6,0,15,3,0,13,1,0,11,0,0,8,0,0,6,1,0,4,3,0]},q:{width:19,cdata:["M",15,14,0,"L",15,-7,0,"M",15,11,0,"L",13,13,0,11,14,0,8,14,0,6,13,0,4,11,0,3,8,0,3,6,0,4,3,0,6,1,0,8,0,0,11,0,0,13,1,0,15,3,0]},r:{width:13,cdata:["M",4,14,0,"L",4,0,0,"M",4,8,0,"L",5,11,0,7,13,0,9,14,0,12,14,0]},s:{width:17,cdata:["M",14,11,0,"L",13,13,0,10,14,0,7,14,0,4,13,0,3,11,0,4,9,0,6,8,0,11,7,0,13,6,0,14,4,0,14,3,0,13,1,0,10,0,0,7,0,0,4,1,0,3,3,0]},t:{width:12,cdata:["M",5,21,0,"L",5,4,0,6,1,0,8,0,0,10,0,0,"M",2,14,0,"L",9,14,0]},u:{width:19,cdata:["M",4,14,0,"L",4,4,0,5,1,0,7,0,0,10,0,0,12,1,0,15,4,0,"M",15,14,0,"L",15,0,0]},v:{width:16,cdata:["M",2,14,0,"L",8,0,0,"M",14,14,0,"L",8,0,0]},w:{width:22,cdata:["M",3,14,0,"L",7,0,0,"M",11,14,0,"L",7,0,0,"M",11,14,0,"L",15,0,0,"M",19,14,0,"L",15,0,0]},x:{width:17,cdata:["M",3,14,0,"L",14,0,0,"M",14,14,0,"L",3,0,0]},y:{width:16,cdata:["M",2,14,0,"L",8,0,0,"M",14,14,0,"L",8,0,0,6,-4,0,4,-6,0,2,-7,0,1,-7,0]},z:{width:17,cdata:["M",14,14,0,"L",3,0,0,"M",3,14,0,"L",14,14,0,"M",3,0,0,"L",14,0,0]},"{":{width:14,cdata:["M",9,25,0,"L",7,24,0,6,23,0,5,21,0,5,19,0,6,17,0,7,16,0,8,14,0,8,12,0,6,10,0,"M",7,24,0,"L",6,22,0,6,20,0,7,18,0,8,17,0,9,15,0,9,13,0,8,11,0,4,9,0,8,7,0,9,5,0,9,3,0,8,1,0,7,0,0,6,-2,0,6,-4,0,7,-6,0,"M",6,8,0,"L",8,6,0,8,4,0,7,2,0,6,1,0,5,-1,0,5,-3,0,6,-5,0,7,-6,0,9,-7,0]},"|":{width:8,cdata:["M",4,25,0,"L",4,-7,0]},"}":{width:14,cdata:["M",5,25,0,"L",7,24,0,8,23,0,9,21,0,9,19,0,8,17,0,7,16,0,6,14,0,6,12,0,8,10,0,"M",7,24,0,"L",8,22,0,8,20,0,7,18,0,6,17,0,5,15,0,5,13,0,6,11,0,10,9,0,6,7,0,5,5,0,5,3,0,6,1,0,7,0,0,8,-2,0,8,-4,0,7,-6,0,"M",8,8,0,"L",6,6,0,6,4,0,7,2,0,8,1,0,9,-1,0,9,-3,0,8,-5,0,7,-6,0,5,-7,0]},"~":{width:24,cdata:["M",3,6,0,"L",3,8,0,4,11,0,6,12,0,8,12,0,10,11,0,14,8,0,16,7,0,18,7,0,20,8,0,21,10,0,"M",3,8,0,"L",4,10,0,6,11,0,8,11,0,10,10,0,14,7,0,16,6,0,18,6,0,20,7,0,21,10,0,21,12,0]},"":{width:18,cdata:["M",9,21,0,"L",1,0,0,"M",9,21,0,"L",17,0,0,"M",4,7,0,"L",14,7,0]},"":{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",13,21,0,16,20,0,17,19,0,18,17,0,18,15,0,17,13,0,16,12,0,13,11,0,"M",4,11,0,"L",13,11,0,16,10,0,17,9,0,18,7,0,18,4,0,17,2,0,16,1,0,13,0,0,4,0,0]},"":{width:20,cdata:["M",3,21,0,"L",17,0,0,"M",3,0,0,"L",17,21,0]},"":{width:18,cdata:["M",9,21,0,"L",1,0,0,"M",9,21,0,"L",17,0,0,"M",1,0,0,"L",17,0,0]},"":{width:19,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",17,21,0,"M",4,11,0,"L",12,11,0,"M",4,0,0,"L",17,0,0]},"":{width:20,cdata:["M",10,21,0,"L",10,0,0,"M",8,16,0,"L",5,15,0,4,14,0,3,12,0,3,9,0,4,7,0,5,6,0,8,5,0,12,5,0,15,6,0,16,7,0,17,9,0,17,12,0,16,14,0,15,15,0,12,16,0,8,16,0]},"":{width:17,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",16,21,0]},"":{width:22,cdata:["M",4,21,0,"L",4,0,0,"M",18,21,0,"L",18,0,0,"M",4,11,0,"L",18,11,0]},"":{width:8,cdata:["M",4,21,0,"L",4,0,0]},"":{width:5,cdata:["M",2,10,0,"L",2,9,0,3,9,0,3,10,0,2,10,0]},"":{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",18,21,0,"L",4,7,0,"M",9,12,0,"L",18,0,0]},"":{width:18,cdata:["M",9,21,0,"L",1,0,0,"M",9,21,0,"L",17,0,0]},"":{width:24,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",12,0,0,"M",20,21,0,"L",12,0,0,"M",20,21,0,"L",20,0,0]},"":{width:22,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",18,0,0,"M",18,21,0,"L",18,0,0]},"":{width:22,cdata:["M",9,21,0,"L",7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0,19,8,0,19,13,0,18,16,0,17,18,0,15,20,0,13,21,0,9,21,0]},"":{width:22,cdata:["M",4,21,0,"L",4,0,0,"M",18,21,0,"L",18,0,0,"M",4,21,0,"L",18,21,0]},"":{width:22,cdata:["M",9,21,0,"L",7,20,0,5,18,0,4,16,0,3,13,0,3,8,0,4,5,0,5,3,0,7,1,0,9,0,0,13,0,0,15,1,0,17,3,0,18,5,0,19,8,0,19,13,0,18,16,0,17,18,0,15,20,0,13,21,0,9,21,0,"M",8,11,0,"L",14,11,0]},"":{width:21,cdata:["M",4,21,0,"L",4,0,0,"M",4,21,0,"L",13,21,0,16,20,0,17,19,0,18,17,0,18,14,0,17,12,0,16,11,0,13,10,0,4,10,0]},"":{width:18,cdata:["M",2,21,0,"L",9,11,0,2,0,0,"M",2,21,0,"L",16,21,0,"M",2,0,0,"L",16,0,0]},"":{width:16,cdata:["M",8,21,0,"L",8,0,0,"M",1,21,0,"L",15,21,0]},"":{width:18,cdata:["M",2,16,0,"L",2,18,0,3,20,0,4,21,0,6,21,0,7,20,0,8,18,0,9,14,0,9,0,0,"M",16,16,0,"L",16,18,0,15,20,0,14,21,0,12,21,0,11,20,0,10,18,0,9,14,0]},"":{width:14,cdata:["M",6,21,0,"L",4,20,0,3,18,0,3,16,0,4,14,0,6,13,0,8,13,0,10,14,0,11,16,0,11,18,0,10,20,0,8,21,0,6,21,0]},"":{width:20,cdata:["M",3,0,0,"L",7,0,0,4,7,0,3,11,0,3,15,0,4,18,0,6,20,0,9,21,0,11,21,0,14,20,0,16,18,0,17,15,0,17,11,0,16,7,0,13,0,0,17,0,0]},"":{width:18,cdata:["M",2,21,0,"L",16,21,0,"M",6,11,0,"L",12,11,0,"M",2,0,0,"L",16,0,0]},"":{width:22,cdata:["M",11,21,0,"L",11,0,0,"M",2,15,0,"L",3,15,0,4,14,0,5,10,0,6,8,0,7,7,0,10,6,0,12,6,0,15,7,0,16,8,0,17,10,0,18,14,0,19,15,0,20,15,0]},"":{width:20,cdata:["M",17,21,0,"L",3,0,0,"M",3,21,0,"L",17,21,0,"M",3,0,0,"L",17,0,0]},"":{width:21,cdata:["M",9,14,0,"L",7,13,0,5,11,0,4,9,0,3,6,0,3,3,0,4,1,0,6,0,0,8,0,0,10,1,0,13,4,0,15,7,0,17,11,0,18,14,0,"M",9,14,0,"L",11,14,0,12,13,0,13,11,0,15,3,0,16,1,0,17,0,0,18,0,0]},"":{width:19,cdata:["M",12,21,0,"L",10,20,0,8,18,0,6,14,0,5,11,0,4,7,0,3,1,0,2,-7,0,"M",12,21,0,"L",14,21,0,16,19,0,16,16,0,15,14,0,14,13,0,12,12,0,9,12,0,"M",9,12,0,"L",11,11,0,13,9,0,14,7,0,14,4,0,13,2,0,12,1,0,10,0,0,8,0,0,6,1,0,5,2,0,4,5,0]},"":{width:18,cdata:["M",2,14,0,"L",4,14,0,6,12,0,12,-5,0,14,-7,0,16,-7,0,"M",17,14,0,"L",16,12,0,14,9,0,4,-2,0,2,-5,0,1,-7,0]},"":{width:18,cdata:["M",11,14,0,"L",8,14,0,6,13,0,4,11,0,3,8,0,3,5,0,4,2,0,5,1,0,7,0,0,9,0,0,11,1,0,13,3,0,14,6,0,14,9,0,13,12,0,11,14,0,9,16,0,8,18,0,8,20,0,9,21,0,11,21,0,13,20,0,15,18,0]},"":{width:16,cdata:["M",13,12,0,"L",12,13,0,10,14,0,7,14,0,5,13,0,5,11,0,6,9,0,9,8,0,"M",9,8,0,"L",5,7,0,3,5,0,3,3,0,4,1,0,6,0,0,9,0,0,11,1,0,13,3,0]},"":{width:22,cdata:["M",8,13,0,"L",6,12,0,4,10,0,3,7,0,3,4,0,4,2,0,5,1,0,7,0,0,10,0,0,13,1,0,16,3,0,18,6,0,19,9,0,19,12,0,17,14,0,15,14,0,13,12,0,11,8,0,9,3,0,6,-7,0]},"":{width:19,cdata:["M",1,11,0,"L",3,13,0,5,14,0,6,14,0,8,13,0,9,12,0,10,9,0,10,5,0,9,0,0,"M",17,14,0,"L",16,11,0,15,9,0,9,0,0,7,-4,0,6,-7,0]},"":{width:20,cdata:["M",1,10,0,"L",2,12,0,4,14,0,6,14,0,7,13,0,7,11,0,6,7,0,4,0,0,"M",6,7,0,"L",8,11,0,10,13,0,12,14,0,14,14,0,16,12,0,16,9,0,15,4,0,12,-7,0]},"":{width:11,cdata:["M",6,14,0,"L",4,7,0,3,3,0,3,1,0,4,0,0,6,0,0,8,2,0,9,4,0]},"":{width:22,cdata:["M",4,16,0,"L",18,2,0,"M",18,16,0,"L",4,2,0]},"":{width:18,cdata:["M",6,14,0,"L",2,0,0,"M",16,13,0,"L",15,14,0,14,14,0,12,13,0,8,9,0,6,8,0,5,8,0,"M",5,8,0,"L",7,7,0,8,6,0,10,1,0,11,0,0,12,0,0,13,1,0]},"":{width:16,cdata:["M",1,21,0,"L",3,21,0,5,20,0,6,19,0,14,0,0,"M",8,14,0,"L",2,0,0]},"":{width:21,cdata:["M",7,14,0,"L",1,-7,0,"M",6,10,0,"L",5,5,0,5,2,0,7,0,0,9,0,0,11,1,0,13,3,0,15,7,0,"M",17,14,0,"L",15,7,0,14,3,0,14,1,0,15,0,0,17,0,0,19,2,0,20,4,0]},"":{width:18,cdata:["M",3,14,0,"L",6,14,0,5,8,0,4,3,0,3,0,0,"M",16,14,0,"L",15,11,0,14,9,0,12,6,0,9,3,0,6,1,0,3,0,0]},"":{width:17,cdata:["M",8,14,0,"L",6,13,0,4,11,0,3,8,0,3,5,0,4,2,0,5,1,0,7,0,0,9,0,0,11,1,0,13,3,0,14,6,0,14,9,0,13,12,0,12,13,0,10,14,0,8,14,0]},"":{width:22,cdata:["M",9,14,0,"L",5,0,0,"M",14,14,0,"L",15,8,0,16,3,0,17,0,0,"M",2,11,0,"L",4,13,0,7,14,0,20,14,0]},"":{width:21,cdata:["M",1,10,0,"L",2,12,0,4,14,0,6,14,0,7,13,0,7,11,0,6,6,0,6,3,0,7,1,0,8,0,0,10,0,0,12,1,0,14,4,0,15,6,0,16,9,0,17,14,0,17,17,0,16,20,0,14,21,0,12,21,0,11,19,0,11,17,0,12,14,0,14,11,0,16,9,0,19,7,0]},"":{width:18,cdata:["M",4,8,0,"L",4,5,0,5,2,0,6,1,0,8,0,0,10,0,0,12,1,0,14,3,0,15,6,0,15,9,0,14,12,0,13,13,0,11,14,0,9,14,0,7,13,0,5,11,0,4,8,0,0,-7,0]},"":{width:20,cdata:["M",18,14,0,"L",8,14,0,6,13,0,4,11,0,3,8,0,3,5,0,4,2,0,5,1,0,7,0,0,9,0,0,11,1,0,13,3,0,14,6,0,14,9,0,13,12,0,12,13,0,10,14,0]},"":{width:20,cdata:["M",11,14,0,"L",8,0,0,"M",2,11,0,"L",4,13,0,7,14,0,18,14,0]},"":{width:20,cdata:["M",1,10,0,"L",2,12,0,4,14,0,6,14,0,7,13,0,7,11,0,5,5,0,5,2,0,7,0,0,9,0,0,12,1,0,14,3,0,16,7,0,17,11,0,17,14,0]},"":{width:26,cdata:["M",13,18,0,"L",12,17,0,13,16,0,14,17,0,13,18,0,"M",4,9,0,"L",22,9,0,"M",13,2,0,"L",12,1,0,13,0,0,14,1,0,13,2,0]},"":{width:23,cdata:["M",8,14,0,"L",6,13,0,4,10,0,3,7,0,3,4,0,4,1,0,5,0,0,7,0,0,9,1,0,11,4,0,"M",12,8,0,"L",11,4,0,12,1,0,13,0,0,15,0,0,17,1,0,19,4,0,20,7,0,20,10,0,19,13,0,18,14,0]},"":{width:16,cdata:["M",10,21,0,"L",8,20,0,7,19,0,7,18,0,8,17,0,11,16,0,14,16,0,"M",11,16,0,"L",8,15,0,6,14,0,5,12,0,5,10,0,7,8,0,10,7,0,12,7,0,"M",10,7,0,"L",6,6,0,4,5,0,3,3,0,3,1,0,5,-1,0,9,-3,0,10,-4,0,10,-6,0,8,-7,0,6,-7,0]},"":{width:23,cdata:["M",16,21,0,"L",8,-7,0,"M",1,10,0,"L",2,12,0,4,14,0,6,14,0,7,13,0,7,11,0,6,6,0,6,3,0,7,1,0,9,0,0,11,0,0,14,1,0,16,3,0,18,6,0,20,11,0,21,14,0]},"":{width:15,cdata:["M",10,21,0,"L",8,20,0,7,19,0,7,18,0,8,17,0,11,16,0,14,16,0,"M",14,16,0,"L",10,14,0,7,12,0,4,9,0,3,6,0,3,4,0,4,2,0,6,0,0,9,-2,0,10,-4,0,10,-6,0,9,-7,0,7,-7,0,6,-5,0]},"":{width:21,cdata:["M",12,21,0,"L",9,20,0,7,18,0,5,15,0,4,13,0,3,9,0,3,5,0,4,2,0,5,1,0,7,0,0,9,0,0,12,1,0,14,3,0,16,6,0,17,8,0,18,12,0,18,16,0,17,19,0,16,20,0,14,21,0,12,21,0,"M",4,11,0,"L",18,11,0]}},strWidth:function(t=12,e=[]){let s,r=0;for(let i=0;i<e.length;i++)(s=m.letters[e.charAt(i)])&&(r+=s.width*t/25);return r},stringToCgo3D:function(t=[]){let e=0,s=[];function r(t,e){const s=[];let r,i,a,n=0;for(;n<t.length;)"string"==typeof t[n]&&s.push(t[n++]),r=t[n++]+e,i=t[n++],a=t[n++],s.push(r,i,a);return s}for(let i=0;i<t.length;i++){const a=this.letters[t.charAt(i)];if(a){let t=r(a.cdata,e);e+=a.width,s=s.concat(t)}}return{cgoData:s,width:e,height:29}}};Cango3D=class{constructor(t){if(this.cId=t,this.cnvs=document.getElementById(t),null===this.cnvs)return void alert("can't find canvas "+t);this.rawWidth=this.cnvs.offsetWidth,this.rawHeight=this.cnvs.offsetHeight,this.aRatio=this.rawWidth/this.rawHeight,this.cnvs.hasOwnProperty("dragObjects")||(this.cnvs.dragObjects=[]),this.cnvs.hasOwnProperty("resized")||(this.cnvs.setAttribute("width",this.rawWidth),this.cnvs.setAttribute("height",this.rawHeight),this.cnvs.resized=!0),this.ctx=this.cnvs.getContext("2d"),this.vpW=this.rawWidth,this.vpH=this.rawHeight,this.vpLLx=0,this.vpLLy=this.rawHeight,this.xscl=1,this.yscl=-1,this.xoffset=0,this.yoffset=0,this.savWC={xscl:this.xscl,yscl:this.yscl,xoffset:this.xoffset,yoffset:this.yoffset},this.ctx.textAlign="left",this.ctx.textBaseline="top",this.penCol=new RGBAColor("black"),this.penWid=1,this.lineCap="butt",this.lineJoin="round",this.paintCol=new RGBAColor("steelblue"),this.backCol=new RGBAColor("gray"),this.fontSize=10,this.fontWeight=400,this.fov=45,this.viewpointDistance=this.rawWidth/(this.xscl*Math.tan(this.fov*Math.PI/360)),this.lightSource={x:-250,y:250,z:500},this.plotNormals=!1;const e=this;this.cnvs.hasOwnProperty("unique")||(this.cnvs.unique=0),"undefined"==typeof Timeline||this.cnvs.hasOwnProperty("timeline")||(this.cnvs.timeline=new Timeline),this.cnvs.onmousedown=function(t){const s=t||window.event;function r(t,s,r){if(e.ctx.beginPath(),"TEXT"===t.type)for(let s=0;s<t.bBoxCmds.length;s++)e.ctx[t.bBoxCmds[s].drawFn].apply(e.ctx,t.bBoxCmds[s].parmsPx);else for(let s=0;s<t.drawCmds.length;s++)e.ctx[t.drawCmds[s].drawFn].apply(e.ctx,t.drawCmds[s].parmsPx);return e.ctx.isPointInPath(s,r)}const i=function(t){const s=e.cnvs.getBoundingClientRect();return{x:t.clientX-s.left,y:t.clientY-s.top}}(s);for(let t=e.cnvs.dragObjects.length-1;t>=0;t--){let a=e.cnvs.dragObjects[t];if(r(a,i.x,i.y)&&a.dragNdrop){a.dragNdrop.grab(s);break}}}}toPixelCoords(t,e){return{x:this.vpLLx+this.xoffset+t*this.xscl,y:this.vpLLy+this.yoffset+e*this.yscl,z:0}}toWorldCoords(t,e){return{x:(t-this.vpLLx-this.xoffset)/this.xscl,y:(e-this.vpLLy-this.yoffset)/this.yscl,z:0}}getCursorPos(t){const e=t||window.event,s=this.cnvs.getBoundingClientRect();return{x:e.clientX-s.left,y:e.clientY-s.top,z:0}}getCursorPosWC(t){const e=t||window.event,s=this.cnvs.getBoundingClientRect();return{x:(e.clientX-s.left-this.vpLLx-this.xoffset)/this.xscl,y:(e.clientY-s.top-this.vpLLy-this.yoffset)/this.yscl,z:0}}clearCanvas(t){void 0!==t?(this.ctx.save(),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.rawWidth,this.rawHeight),this.ctx.restore()):this.ctx.clearRect(0,0,this.rawWidth,this.rawHeight),this.cnvs.dragObjects.length=0}setWorldCoords3D(t=0,e=0,s=100){s>0?(this.xscl=this.vpW/s,this.yscl=-this.xscl,this.xoffset=-t*this.xscl,this.yoffset=-e*this.yscl):(this.xscl=this.rawWidth/100,this.yscl=-this.rawWidth/100,this.xoffset=0,this.yoffset=0),this.setFOV(this.fov),this.savWC={xscl:this.xscl,yscl:this.yscl,xoffset:this.xoffset,yoffset:this.yoffset}}setPropertyDefault(t,e){let s;if("string"==typeof t&&null!=e)switch(t.toLowerCase()){case"backgroundcolor":(s=new RGBAColor(e)).ok&&(this.cnvs.style.backgroundColor=s.toRGBA());break;case"fillcolor":(s=new RGBAColor(e)).ok&&(this.paintCol=s);break;case"backcolor":(s=new RGBAColor(e)).ok&&(this.backCol=s);break;case"strokecolor":(s=new RGBAColor(e)).ok&&(this.penCol=s);break;case"strokewidth":case"linewidth":this.penWid=e;break;case"linecap":if("string"!=typeof e)return;"butt"!==e&&"round"!==e&&"square"!==e||(this.lineCap=e);break;case"linejoin":if("string"!=typeof e)return;"bevel"!==e&&"round"!==e&&"miter"!==e||(this.lineJoin=e);break;case"fontsize":"number"==typeof e&&e>=6&&e<=60&&(this.fontSize=e);break;case"fontweight":"number"==typeof e&&e>=100&&e<=900&&(this.fontWeight=e);break;default:return}}setFOV(t){const e=this;t<=60&&t>0&&(this.fov=t,this.viewpointDistance=function(t){const s=e.rawWidth;let r=e.xoffset;r<0&&(r=0),r>s&&(r=s);let i=Math.abs(s/2-r)+s/2;i/=e.xscl;const a=Math.PI*t/360;return i/Math.tan(a)}(this.fov)),0==t&&(this.viewpointDistance=Math.pow(10,100))}setLightSource(t,e,s){void 0!==t&&void 0!==e&&void 0!==s&&(this.lightSource.x=t,this.lightSource.y=e,this.lightSource.z=s)}calcSphereShading(t){const e=function(t){const e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),s=180*Math.atan2(t.y,t.x)/Math.PI;return{r:e,elev:180*Math.acos(t.z/e)/Math.PI,azim:s}}(new s(this.lightSource.x-t.centroid.tx,this.lightSource.y-t.centroid.ty,this.lightSource.z-t.centroid.tz)),r=e.elev,i=e.azim;if(e.r<t.diameter)return t.disc.setProperty("fillColor",t.lightColor),t.shader.setProperty("fillColor",t.darkColor),null;const a=(t=>Math.cos(Math.PI*(90+t)/360))(90+r),n=(t=>-Math.sin(Math.PI*t/180))(-r-90),h=t.diameter/2,o=n*h,l=Math.abs(a)*h,d=Math.cos(Math.PI*i/180),c=Math.sin(Math.PI*i/180),u=(Math.cos(Math.PI*r/180),Math.sin(Math.PI*r/180)),f=t.shadeOutline(-o,h,i);if(t.shader.drawCmds=new Cgo3Dsegs(svgToCgo3D(f)),r<175){t.disc.fillColor=t.lightColor;const e=.1*u,s=e*d,r=e*c;t.shader.shadowOffsetX=s,t.shader.shadowOffsetY=-r,t.shader.shadowBlur=e}else t.disc.fillColor=t.darkColor;const p=l*d,g=l*c;t.lightColor.cx=p/h,t.lightColor.cy=-g/h}render(t){const e=this,r=[];let i=!0,a=!1;function n(t){const r=(t.parent?t.parent.netTfmAry:[]).concat(t.ofsTfmAry.reverse());if(t.netTfmAry=t.hardTfmAry?r.concat(t.hardTfmAry):r,t.ofsTfmAry.length=0,t instanceof Sphere3D)if(t.netTfmAry.length){const s=[];t.netTfmAry.reverse().forEach(e=>{if("TRN"==e.type)if(s.length){const t=s[0].args[0]+e.args[0],r=s[0].args[1]+e.args[1],i=s[0].args[2]+e.args[2];s[0]=new c("TRN",t,r,i)}else s[0]=e;else if("ROT"==e.type){if(s.length){const t=s[0].args[0],r=s[0].args[1],i=s[0].args[2],a=new Cgo3Dsegs(["M",0,0,0,"L",t,r,i]).rotate(...e.args);s[0]=new c("TRN",a[1].ep.x,a[1].ep.y,a[1].ep.z)}}else"SCL"==e.type&&(t.scaling*=e.args[0])}),s.length&&(t.netTfmAry=s,t.centroid.tx=t.netTfmAry[0].mat.m41,t.centroid.ty=t.netTfmAry[0].mat.m42,t.centroid.tz=t.netTfmAry[0].mat.m43,e.calcSphereShading(t),t.children.forEach(e=>{if(1!=t.scaling){const s=new c("SCL",t.scaling);e.ofsTfmAry.push(s)}e.ofsTfmAry.push(s[0])}),t.netTfmAry.length=0)}else e.calcSphereShading(t);if(t.netTfm=new DOMMatrix,t.netTfmAry.forEach(e=>{t.netTfm.multiplySelf(e.mat)}),t.dwgOrg=new s,t.dwgOrg.softTransform(t.netTfm),t instanceof Sphere3D||t.centroid.softTransform(t.netTfm),"GROUP"!==t.type){if(t.normal.softTransform(t.netTfm),"TEXT"===t.type){const s=function(t){const s=t.width,r=t.height,i=s/2,a=r/2,n=[0,[0,r],[i,r],[s,r],[0,a],[i,a],[s,a],[0,0],[i,0],[s,0]];let h=0,o=0;void 0!==n[t.lorg]&&(h=-n[t.lorg][0],o=-n[t.lorg][1]);const l=u(h,o+=.25*r,0);let d=t.fontSize||e.fontSize;t.orgXscl||(t.orgXscl=e.xscl);const c=e.xscl/t.orgXscl;t.fontSizeZC=d*c,t.fontSizeZC/=e.xscl;const f=p(t.fontSizeZC/33),g=new DOMMatrix;return g.multiplySelf(f),g.multiplySelf(l),g}(t);t.netTfm.multiplySelf(s)}!function(t){if(t.drawCmds.forEach(e=>{for(let s=0;s<e.cPts.length;s++)e.cPts[s].softTransform(t.netTfm);void 0!==e.ep&&e.ep.softTransform(t.netTfm)}),"TEXT"===t.type)for(let e=0;e<t.bBoxCmds.length;e++)void 0!==t.bBoxCmds[e].ep&&t.bBoxCmds[e].ep.softTransform(t.netTfm)}(t)}}const h=Array.prototype.slice.call(arguments);for(let t=0;t<arguments.length;t++)"string"==typeof h[t]&&"wireframe"===h[t].toLowerCase()&&(a=!0),"string"==typeof h[t]&&"noclear"===h[t].toLowerCase()&&(i=!1);i&&this.clearCanvas(),function t(e){n(e),"GROUP"===e.type&&e.children.forEach(e=>t(e))}(t),"GROUP"===t.type?function t(e){e.children.sort(function(t,e){return t.centroid.tz-e.centroid.tz}),e.children.forEach(e=>{"GROUP"===e.type?e instanceof Sphere3D?r.push(...e.children):t(e):r.push(e)})}(t):r[0]=t,r.forEach(t=>{!function(t){function s(t){const s=e.viewpointDistance-t.tz>1e-6?e.viewpointDistance/(e.viewpointDistance-t.tz):e.viewpointDistance/1e-6;t.fx=t.tx*s,t.fy=t.ty*s}for(let e=0;e<t.drawCmds.length;e++){for(var r=0;r<t.drawCmds[e].cPts.length;r++)s(t.drawCmds[e].cPts[r]),t.drawCmds[e].parms[2*r]=t.drawCmds[e].cPts[r].fx,t.drawCmds[e].parms[2*r+1]=t.drawCmds[e].cPts[r].fy;void 0!==t.drawCmds[e].ep&&(s(t.drawCmds[e].ep),t.drawCmds[e].parms[2*r]=t.drawCmds[e].ep.fx,t.drawCmds[e].parms[2*r+1]=t.drawCmds[e].ep.fy)}if("TEXT"===t.type)for(let e=0;e<4;e++)s(t.bBoxCmds[e].ep),t.bBoxCmds[e].parms[0]=t.bBoxCmds[e].ep.fx,t.bBoxCmds[e].parms[1]=t.bBoxCmds[e].ep.fy;s(t.centroid),s(t.normal)}(t),a?this.paintObj3D(t,!0):!this.frontFacing(t)&&t.backHidden||this.paintObj3D(t,!1)}),function t(e){e.transformReset(),"GROUP"===e.type&&(e.children.forEach(e=>t(e)),e instanceof Sphere3D&&(e.scaling=1))}(t)}paintObj3D(t,e){const s=this,r=t.fontSize||this.fontSize,i=t.fontWeight||this.fontWeight;let a,n;function h(e,r,i){const a=s.xscl*(s.viewpointDistance-i>1e-6?s.viewpointDistance/(s.viewpointDistance-i):s.viewpointDistance/1e-6)*t.parent.scaling*t.parent.diameter/2,n=s.ctx.createRadialGradient(r[0]+a*e.cx,r[1]+a*e.cy,a*e.spotRad,r[0],r[1],a*e.radius);return e.colorStops.forEach(t=>{n.addColorStop(t[0],t[1])}),n}this.ctx.save(),this.ctx.beginPath();for(let e=0;e<t.drawCmds.length;e++){for(let s=0;s<t.drawCmds[e].parms.length;s+=2)t.drawCmds[e].parmsPx[s]=this.vpLLx+this.xoffset+t.drawCmds[e].parms[s]*this.xscl,t.drawCmds[e].parmsPx[s+1]=this.vpLLy+this.yoffset+t.drawCmds[e].parms[s+1]*this.yscl;this.ctx[t.drawCmds[e].drawFn].apply(this.ctx,t.drawCmds[e].parmsPx)}if("TEXT"===t.type)for(let e=0;e<t.bBoxCmds.length;e++)for(let s=0;s<t.bBoxCmds[e].parms.length;s+=2)t.bBoxCmds[e].parmsPx[s]=this.vpLLx+this.xoffset+t.bBoxCmds[e].parms[s]*this.xscl,t.bBoxCmds[e].parmsPx[s+1]=this.vpLLy+this.yoffset+t.bBoxCmds[e].parms[s+1]*this.yscl;if("SHAPE"===t.type||"PANEL"===t.type?(this.ctx.closePath(),e?(a=t.strokeColor||this.penCol,this.ctx.strokeStyle=a.toRGBA(),this.ctx.lineCap=t.lineCap||this.lineCap,this.ctx.lineJoin=t.lineJoin||this.lineJoin,this.ctx.lineWidth=t.lineWidth||this.penWid,this.ctx.stroke()):(t.shadowBlur&&function(e,r){const i=s.xscl,a=i*(s.viewpointDistance-r>1e-6?s.viewpointDistance/(s.viewpointDistance-r):s.viewpointDistance/1e-6)*t.parent.scaling*t.parent.diameter/2;s.ctx.shadowOffsetX=i*a*e.shadowOffsetX,s.ctx.shadowOffsetY=i*a*e.shadowOffsetY,s.ctx.shadowBlur=i*a*e.shadowBlur,s.ctx.shadowColor=e.shadowColor}(t,t.drawCmds[0].ep.tz),t.fillColor instanceof w?this.ctx.fillStyle=h(t.fillColor,t.drawCmds[0].parmsPx,t.drawCmds[0].ep.tz):this.ctx.fillStyle=this.calcShapeShade(t),n=this.frontFacing(t)?t.fillColor||this.paintCol:t.backColor||this.backCol,this.ctx.fill(),n.a>.9&&(this.ctx.strokeStyle=this.ctx.fillStyle,this.ctx.lineJoin="round",this.ctx.stroke()),t.border&&(a=t.strokeColor||this.penCol,this.ctx.strokeStyle=a.toRGBA(),this.ctx.lineCap=t.lineCap||this.lineCap,this.ctx.lineJoin=t.lineJoin||this.lineJoin,this.ctx.lineWidth=t.lineWidth||this.penWid,this.ctx.stroke()))):((a=t.strokeColor||this.penCol)instanceof w?this.ctx.strokeStyle=h(a,t.drawCmds[0].parmsPx,t.drawCmds[0].ep.tz):(this.ctx.strokeStyle=a.toRGBA(),t.lineWidthWC?this.ctx.lineWidth=t.lineWidthWC*this.xscl:this.ctx.lineWidth=t.lineWidth||this.penWid),"TEXT"===t.type&&(this.ctx.lineWidth*=.08*r*i/400),this.ctx.lineCap=t.lineCap||this.lineCap,this.ctx.lineJoin=t.lineJoin||this.lineJoin,this.ctx.stroke()),this.plotNormals){const e=this.vpLLx+this.xoffset+t.centroid.fx*this.xscl,s=this.vpLLy+this.yoffset+t.centroid.fy*this.yscl,r=this.vpLLx+this.xoffset+t.normal.fx*this.xscl,i=this.vpLLy+this.yoffset+t.normal.fy*this.yscl;t.centroid.tz<t.normal.tz?this.ctx.strokeStyle="green":this.ctx.strokeStyle="red",this.ctx.beginPath(),this.ctx.moveTo(e,s),this.ctx.lineTo(r,i),this.ctx.stroke()}this.ctx.restore(),null!==t.dragNdrop&&(t.dragNdrop.cgo=this,this.cnvs.dragObjects.includes(t)||this.cnvs.dragObjects.push(t))}frontFacing(t){let e=t.normal.tx-t.centroid.tx,s=t.normal.ty-t.centroid.ty,r=t.normal.tz-t.centroid.tz;const i=Math.sqrt(e*e+s*s+r*r);let a=-t.centroid.tx,n=-t.centroid.ty,h=this.viewpointDistance-t.centroid.tz;const o=Math.sqrt(a*a+n*n+h*h);return(e/=i)*(a/=o)+(s/=i)*(n/=o)+(r/=i)*(h/=o)>0}calcShapeShade(t){let e,s=this.lightSource.x,r=this.lightSource.y,i=this.lightSource.z,a=Math.sqrt(s*s+r*r+i*i);s/=a,r/=a,i/=a;let n=t.normal.tx-t.centroid.tx,h=t.normal.ty-t.centroid.ty,o=t.normal.tz-t.centroid.tz,l=Math.sqrt(n*n+h*h+o*o),d=.6*(s*(n/=l)+r*(h/=l)+i*(o/=l));return d=Math.abs(d),d+=.4,this.frontFacing(t)?(e=t.fillColor||this.paintCol,n*s+h*r+o*i<0&&(d=.4)):(e=t.backColor||this.backCol,n*s+h*r+o*i>0&&(d=.4)),t.flatColor&&(d=1),"rgba("+Math.round(d*e.r)+","+Math.round(d*e.g)+","+Math.round(d*e.b)+","+(this.flatColor?1:e.a)+")"}}}();